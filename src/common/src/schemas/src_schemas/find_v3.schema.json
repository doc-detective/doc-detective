{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "find",
  "description": "Find an element based on display text or a selector, then optionally interact with it.",
  "anyOf": [
    {
      "$ref": "#/components/schemas/string"
    },
    {
      "$ref": "#/components/schemas/object"
    }
  ],
  "components": {
    "schemas": {
      "string": {
        "title": "Find element (simple)",
        "type": "string",
        "description": "Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."
      },
      "object": {
        "title": "Find element (detailed)",
        "type": "object",
        "anyOf": [
          {
            "required": [
              "selector"
            ]
          },
          {
            "required": [
              "elementText"
            ]
          },
          {
            "required": [
              "elementId"
            ]
          },
          {
            "required": [
              "elementTestId"
            ]
          },
          {
            "required": [
              "elementClass"
            ]
          },
          {
            "required": [
              "elementAttribute"
            ]
          },
          {
            "required": [
              "elementAria"
            ]
          }
        ],
        "additionalProperties": false,
        "properties": {
          "elementText": {
            "type": "string",
            "description": "Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."
          },
          "selector": {
            "type": "string",
            "description": "Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."
          },
          "elementId": {
            "type": "string",
            "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
          },
          "elementTestId": {
            "type": "string",
            "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
          },
          "elementClass": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ],
            "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
          },
          "elementAttribute": {
            "type": "object",
            "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                }
              ]
            }
          },
          "elementAria": {
            "type": "string",
            "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
          },
          "timeout": {
            "type": "integer",
            "description": "Max duration in milliseconds to wait for the element to exist.",
            "default": 5000
          },
          "moveTo": {
            "description": "Move to the element. If the element isn't visible, it's scrolled into view.",
            "type": "boolean",
            "default": true
          },
          "click": {
            "description": "Click the element.",
            "anyOf": [
              {
                "$ref": "click_v3.schema.json#"
              },
              {
                "type": "object",
                "properties": {
                  "button": {
                    "$ref": "click_v3.schema.json#/components/schemas/button"
                  }
                },
                "title": "Find element and click"
              }
            ]
          },
          "type": {
            "description": "Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",
            "allOf": [
              {
                "$ref": "type_v3.schema.json#"
              },
              {
                "not": {
                  "type": "object",
                  "required": [
                    "selector",
                    "elementText",
                    "elementId",
                    "elementTestId",
                    "elementClass",
                    "elementAttribute",
                    "elementAria"
                  ],
                  "title": "Find element and type"
                }
              }
            ]
          }
        }
      }
    }
  },
  "examples": [
    "Find me!",
    {
      "selector": "[title=Search]"
    },
    {
      "selector": "[title=Search]",
      "timeout": 10000,
      "elementText": "Search",
      "moveTo": true,
      "click": true,
      "type": "shorthair cat"
    },
    {
      "selector": "[title=Search]",
      "click": {
        "button": "right"
      }
    },
    {
      "selector": "[title=Search]",
      "timeout": 10000,
      "elementText": "Search",
      "moveTo": true,
      "click": true,
      "type": {
        "keys": [
          "shorthair cat"
        ],
        "inputDelay": 100
      }
    },
    {
      "elementId": "/^user-[0-9]+$/",
      "elementClass": ["admin", "/^level-[1-5]$/"],
      "elementAttribute": {
        "data-active": true,
        "data-score": "/^[0-9]+$/"
      },
      "timeout": 8000,
      "moveTo": false
    }
  ]
}