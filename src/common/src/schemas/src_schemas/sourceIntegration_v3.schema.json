{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "sourceIntegration",
  "description": "Information about the source integration for a file, enabling upload of changed files back to the source CMS.",
  "type": "object",
  "additionalProperties": false,
  "required": ["type", "integrationName"],
  "properties": {
    "type": {
      "type": "string",
      "description": "The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",
      "enum": ["heretto"]
    },
    "integrationName": {
      "type": "string",
      "description": "The name of the integration configuration in the config file. Used to look up authentication credentials."
    },
    "fileId": {
      "type": "string",
      "description": "The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."
    },
    "filePath": {
      "type": "string",
      "description": "The path of the file in the source CMS. Used for lookup if fileId is not available."
    },
    "contentPath": {
      "type": "string",
      "description": "The local path to the file that references this source. Used for resolving relative paths."
    }
  },
  "examples": [
    {
      "type": "heretto",
      "integrationName": "my-heretto",
      "fileId": "8f3ed200-cbba-11e1-ac51-c82a1446d15c",
      "filePath": "/db/organizations/example/repositories/docs/images/screenshot.png"
    },
    {
      "type": "heretto",
      "integrationName": "my-heretto",
      "filePath": "images/screenshot.png",
      "contentPath": "/tmp/doc-detective/heretto_abc123/topic.dita"
    }
  ]
}
