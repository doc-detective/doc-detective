{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "step",
  "description": "A step in a test.",
  "type": "object",
  "components": {
    "schemas": {
      "common": {
        "type": "object",
        "dynamicDefaults": {
          "stepId": "uuid"
        },
        "properties": {
          "$schema": {
            "description": "JSON Schema for this object.",
            "type": "string",
            "enum": [
              "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
            ]
          },
          "stepId": {
            "type": "string",
            "description": "ID of the step."
          },
          "description": {
            "type": "string",
            "description": "Description of the step."
          },
          "unsafe": {
            "type": "boolean",
            "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
            "default": false
          },
          "outputs": {
            "type": "object",
            "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
            "default": {},
            "patternProperties": {
              "^[A-Za-z0-9_]+$": {
                "type": "string",
                "description": "Runtime expression for a user-defined output value."
              }
            },
            "title": "Outputs (step)"
          },
          "variables": {
            "type": "object",
            "description": "Environment variables to set from user-defined expressions.",
            "default": {},
            "patternProperties": {
              "^[A-Za-z0-9_]+$": {
                "type": "string",
                "description": "Runtime expression for a user-defined output value."
              }
            },
            "title": "Variables (step)"
          },
          "breakpoint": {
            "type": "boolean",
            "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
            "default": false
          }
        },
        "title": "Common"
      },
      "$schema": {
        "description": "JSON Schema for this object.",
        "type": "string",
        "enum": [
          "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
        ]
      },
      "stepId": {
        "type": "string",
        "description": "ID of the step."
      },
      "description": {
        "type": "string",
        "description": "Description of the step."
      },
      "unsafe": {
        "type": "boolean",
        "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
        "default": false
      },
      "outputs": {
        "type": "object",
        "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
        "default": {},
        "patternProperties": {
          "^[A-Za-z0-9_]+$": {
            "type": "string",
            "description": "Runtime expression for a user-defined output value."
          }
        },
        "title": "Outputs (step)"
      },
      "variables": {
        "type": "object",
        "description": "Environment variables to set from user-defined expressions.",
        "default": {},
        "patternProperties": {
          "^[A-Za-z0-9_]+$": {
            "type": "string",
            "description": "Runtime expression for a user-defined output value."
          }
        },
        "title": "Variables (step)"
      },
      "breakpoint": {
        "type": "boolean",
        "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
        "default": false
      }
    }
  },
  "anyOf": [
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "checkLink"
          ],
          "properties": {
            "checkLink": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "checkLink",
              "anyOf": [
                {
                  "title": "Check link (detailed)",
                  "description": "Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",
                  "type": "string",
                  "pattern": "(^(http://|https://|\\/).*$|^\\$[A-Za-z0-9_]+$)",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "title": "Check link (detailed)",
                  "description": "Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "url"
                  ],
                  "properties": {
                    "url": {
                      "type": "string",
                      "description": "URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",
                      "pattern": "(^(http://|https://|/).*$|^\\$[A-Za-z0-9_]+$)",
                      "transform": [
                        "trim"
                      ]
                    },
                    "origin": {
                      "type": "string",
                      "description": "Protocol and domain to navigate to. Prepended to `url`.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "statusCodes": {
                      "description": "Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",
                      "anyOf": [
                        {
                          "type": "integer"
                        },
                        {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "type": "integer"
                              }
                            ]
                          }
                        }
                      ],
                      "default": [
                        200,
                        301,
                        302,
                        307,
                        308
                      ]
                    }
                  }
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Check link (detailed)",
                    "description": "Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",
                    "type": "string",
                    "pattern": "(^(http://|https://|\\/).*$|^\\$[A-Za-z0-9_]+$)",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "title": "Check link (detailed)",
                    "description": "Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "url"
                    ],
                    "properties": {
                      "url": {
                        "type": "string",
                        "description": "URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",
                        "pattern": "(^(http://|https://|/).*$|^\\$[A-Za-z0-9_]+$)",
                        "transform": [
                          "trim"
                        ]
                      },
                      "origin": {
                        "type": "string",
                        "description": "Protocol and domain to navigate to. Prepended to `url`.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "statusCodes": {
                        "description": "Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",
                        "anyOf": [
                          {
                            "type": "integer"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "integer"
                                }
                              ]
                            }
                          }
                        ],
                        "default": [
                          200,
                          301,
                          302,
                          307,
                          308
                        ]
                      }
                    }
                  }
                }
              },
              "examples": [
                "https://www.google.com",
                "/search",
                {
                  "url": "https://www.google.com",
                  "statusCodes": 200
                },
                {
                  "url": "/search",
                  "origin": "https://www.google.com",
                  "statusCodes": [
                    200
                  ]
                }
              ]
            }
          },
          "title": "checkLink"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "click"
          ],
          "properties": {
            "click": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "click",
              "description": "Click or tap an element.",
              "anyOf": [
                {
                  "title": "Click element (simple)",
                  "type": "string",
                  "description": "Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."
                },
                {
                  "title": "Click element (detailed)",
                  "type": "object",
                  "anyOf": [
                    {
                      "required": [
                        "selector"
                      ]
                    },
                    {
                      "required": [
                        "elementText"
                      ]
                    },
                    {
                      "required": [
                        "elementId"
                      ]
                    },
                    {
                      "required": [
                        "elementTestId"
                      ]
                    },
                    {
                      "required": [
                        "elementClass"
                      ]
                    },
                    {
                      "required": [
                        "elementAttribute"
                      ]
                    },
                    {
                      "required": [
                        "elementAria"
                      ]
                    }
                  ],
                  "properties": {
                    "button": {
                      "description": "Kind of click to perform.",
                      "type": "string",
                      "enum": [
                        "left",
                        "right",
                        "middle"
                      ]
                    },
                    "elementText": {
                      "type": "string",
                      "description": "Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                    },
                    "selector": {
                      "type": "string",
                      "description": "Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                    },
                    "elementId": {
                      "type": "string",
                      "description": "ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "elementTestId": {
                      "type": "string",
                      "description": "data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "elementClass": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                    },
                    "elementAttribute": {
                      "type": "object",
                      "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          }
                        ]
                      }
                    },
                    "elementAria": {
                      "type": "string",
                      "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                    }
                  }
                },
                {
                  "type": "boolean"
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Click element (simple)",
                    "type": "string",
                    "description": "Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."
                  },
                  "button": {
                    "description": "Kind of click to perform.",
                    "type": "string",
                    "enum": [
                      "left",
                      "right",
                      "middle"
                    ]
                  },
                  "object": {
                    "title": "Click element (detailed)",
                    "type": "object",
                    "anyOf": [
                      {
                        "required": [
                          "selector"
                        ]
                      },
                      {
                        "required": [
                          "elementText"
                        ]
                      },
                      {
                        "required": [
                          "elementId"
                        ]
                      },
                      {
                        "required": [
                          "elementTestId"
                        ]
                      },
                      {
                        "required": [
                          "elementClass"
                        ]
                      },
                      {
                        "required": [
                          "elementAttribute"
                        ]
                      },
                      {
                        "required": [
                          "elementAria"
                        ]
                      }
                    ],
                    "properties": {
                      "button": {
                        "description": "Kind of click to perform.",
                        "type": "string",
                        "enum": [
                          "left",
                          "right",
                          "middle"
                        ]
                      },
                      "elementText": {
                        "type": "string",
                        "description": "Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                      },
                      "selector": {
                        "type": "string",
                        "description": "Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                      },
                      "elementId": {
                        "type": "string",
                        "description": "ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementTestId": {
                        "type": "string",
                        "description": "data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementClass": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        ],
                        "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                      },
                      "elementAttribute": {
                        "type": "object",
                        "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      },
                      "elementAria": {
                        "type": "string",
                        "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                      }
                    }
                  }
                }
              },
              "examples": [
                true,
                "Submit",
                {
                  "button": "left",
                  "elementText": "Element text"
                },
                {
                  "selector": "#elementToScreenshot",
                  "elementText": "Element text",
                  "button": "middle"
                }
              ]
            }
          },
          "title": "click"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "find"
          ],
          "properties": {
            "find": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "find",
              "description": "Find an element based on display text or a selector, then optionally interact with it.",
              "anyOf": [
                {
                  "title": "Find element (simple)",
                  "type": "string",
                  "description": "Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."
                },
                {
                  "title": "Find element (detailed)",
                  "type": "object",
                  "anyOf": [
                    {
                      "required": [
                        "selector"
                      ]
                    },
                    {
                      "required": [
                        "elementText"
                      ]
                    },
                    {
                      "required": [
                        "elementId"
                      ]
                    },
                    {
                      "required": [
                        "elementTestId"
                      ]
                    },
                    {
                      "required": [
                        "elementClass"
                      ]
                    },
                    {
                      "required": [
                        "elementAttribute"
                      ]
                    },
                    {
                      "required": [
                        "elementAria"
                      ]
                    }
                  ],
                  "additionalProperties": false,
                  "properties": {
                    "elementText": {
                      "type": "string",
                      "description": "Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."
                    },
                    "selector": {
                      "type": "string",
                      "description": "Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."
                    },
                    "elementId": {
                      "type": "string",
                      "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "elementTestId": {
                      "type": "string",
                      "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "elementClass": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                    },
                    "elementAttribute": {
                      "type": "object",
                      "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          }
                        ]
                      }
                    },
                    "elementAria": {
                      "type": "string",
                      "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "timeout": {
                      "type": "integer",
                      "description": "Max duration in milliseconds to wait for the element to exist.",
                      "default": 5000
                    },
                    "moveTo": {
                      "description": "Move to the element. If the element isn't visible, it's scrolled into view.",
                      "type": "boolean",
                      "default": true
                    },
                    "click": {
                      "description": "Click the element.",
                      "anyOf": [
                        {
                          "$schema": "http://json-schema.org/draft-07/schema#",
                          "title": "click",
                          "description": "Click or tap an element.",
                          "anyOf": [
                            {
                              "title": "Click element (simple)",
                              "type": "string",
                              "description": "Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."
                            },
                            {
                              "title": "Click element (detailed)",
                              "type": "object",
                              "anyOf": [
                                {
                                  "required": [
                                    "selector"
                                  ]
                                },
                                {
                                  "required": [
                                    "elementText"
                                  ]
                                },
                                {
                                  "required": [
                                    "elementId"
                                  ]
                                },
                                {
                                  "required": [
                                    "elementTestId"
                                  ]
                                },
                                {
                                  "required": [
                                    "elementClass"
                                  ]
                                },
                                {
                                  "required": [
                                    "elementAttribute"
                                  ]
                                },
                                {
                                  "required": [
                                    "elementAria"
                                  ]
                                }
                              ],
                              "properties": {
                                "button": {
                                  "description": "Kind of click to perform.",
                                  "type": "string",
                                  "enum": [
                                    "left",
                                    "right",
                                    "middle"
                                  ]
                                },
                                "elementText": {
                                  "type": "string",
                                  "description": "Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                },
                                "selector": {
                                  "type": "string",
                                  "description": "Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                },
                                "elementId": {
                                  "type": "string",
                                  "description": "ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                },
                                "elementTestId": {
                                  "type": "string",
                                  "description": "data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                },
                                "elementClass": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  ],
                                  "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                },
                                "elementAttribute": {
                                  "type": "object",
                                  "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                  "additionalProperties": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "number"
                                      },
                                      {
                                        "type": "boolean"
                                      }
                                    ]
                                  }
                                },
                                "elementAria": {
                                  "type": "string",
                                  "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                }
                              }
                            },
                            {
                              "type": "boolean"
                            }
                          ],
                          "components": {
                            "schemas": {
                              "string": {
                                "title": "Click element (simple)",
                                "type": "string",
                                "description": "Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."
                              },
                              "button": {
                                "description": "Kind of click to perform.",
                                "type": "string",
                                "enum": [
                                  "left",
                                  "right",
                                  "middle"
                                ]
                              },
                              "object": {
                                "title": "Click element (detailed)",
                                "type": "object",
                                "anyOf": [
                                  {
                                    "required": [
                                      "selector"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementText"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementId"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementTestId"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementClass"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementAttribute"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementAria"
                                    ]
                                  }
                                ],
                                "properties": {
                                  "button": {
                                    "description": "Kind of click to perform.",
                                    "type": "string",
                                    "enum": [
                                      "left",
                                      "right",
                                      "middle"
                                    ]
                                  },
                                  "elementText": {
                                    "type": "string",
                                    "description": "Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                  },
                                  "selector": {
                                    "type": "string",
                                    "description": "Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                  },
                                  "elementId": {
                                    "type": "string",
                                    "description": "ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementTestId": {
                                    "type": "string",
                                    "description": "data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementClass": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    ],
                                    "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                  },
                                  "elementAttribute": {
                                    "type": "object",
                                    "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "type": "boolean"
                                        }
                                      ]
                                    }
                                  },
                                  "elementAria": {
                                    "type": "string",
                                    "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                  }
                                }
                              }
                            }
                          },
                          "examples": [
                            true,
                            "Submit",
                            {
                              "button": "left",
                              "elementText": "Element text"
                            },
                            {
                              "selector": "#elementToScreenshot",
                              "elementText": "Element text",
                              "button": "middle"
                            }
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "button": {
                              "description": "Kind of click to perform.",
                              "type": "string",
                              "enum": [
                                "left",
                                "right",
                                "middle"
                              ]
                            }
                          },
                          "title": "Find element and click"
                        }
                      ]
                    },
                    "type": {
                      "description": "Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",
                      "allOf": [
                        {
                          "$schema": "http://json-schema.org/draft-07/schema#",
                          "title": "typeKeys",
                          "description": "Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",
                          "anyOf": [
                            {
                              "title": "Type keys (simple)",
                              "description": "Sequence of keys to enter.",
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      }
                                    ]
                                  }
                                }
                              ]
                            },
                            {
                              "title": "Type keys (detailed)",
                              "type": "object",
                              "properties": {
                                "keys": {
                                  "title": "Type keys (simple)",
                                  "description": "Sequence of keys to enter.",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "inputDelay": {
                                  "type": "number",
                                  "description": "Delay in milliseconds between each key press during a recording",
                                  "default": 100
                                },
                                "selector": {
                                  "type": "string",
                                  "description": "Selector for the element to type into. If not specified, the typing occurs in the active element."
                                },
                                "elementText": {
                                  "type": "string",
                                  "description": "Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."
                                },
                                "elementId": {
                                  "type": "string",
                                  "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                },
                                "elementTestId": {
                                  "type": "string",
                                  "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                },
                                "elementClass": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  ],
                                  "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                },
                                "elementAttribute": {
                                  "type": "object",
                                  "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                  "additionalProperties": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "number"
                                      },
                                      {
                                        "type": "boolean"
                                      }
                                    ]
                                  }
                                },
                                "elementAria": {
                                  "type": "string",
                                  "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                }
                              },
                              "required": [
                                "keys"
                              ],
                              "additionalProperties": false
                            }
                          ],
                          "components": {
                            "schemas": {
                              "keys": {
                                "title": "Type keys (simple)",
                                "description": "Sequence of keys to enter.",
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              },
                              "object": {
                                "title": "Type keys (detailed)",
                                "type": "object",
                                "properties": {
                                  "keys": {
                                    "title": "Type keys (simple)",
                                    "description": "Sequence of keys to enter.",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "inputDelay": {
                                    "type": "number",
                                    "description": "Delay in milliseconds between each key press during a recording",
                                    "default": 100
                                  },
                                  "selector": {
                                    "type": "string",
                                    "description": "Selector for the element to type into. If not specified, the typing occurs in the active element."
                                  },
                                  "elementText": {
                                    "type": "string",
                                    "description": "Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."
                                  },
                                  "elementId": {
                                    "type": "string",
                                    "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementTestId": {
                                    "type": "string",
                                    "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementClass": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    ],
                                    "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                  },
                                  "elementAttribute": {
                                    "type": "object",
                                    "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "type": "boolean"
                                        }
                                      ]
                                    }
                                  },
                                  "elementAria": {
                                    "type": "string",
                                    "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                  }
                                },
                                "required": [
                                  "keys"
                                ],
                                "additionalProperties": false
                              }
                            }
                          },
                          "examples": [
                            "kittens",
                            [
                              "$ENTER$"
                            ],
                            [
                              "kittens",
                              "$ENTER$"
                            ],
                            {
                              "keys": "kittens"
                            },
                            {
                              "keys": [
                                "$ENTER$"
                              ]
                            },
                            {
                              "keys": [
                                "kittens",
                                "$ENTER$"
                              ],
                              "inputDelay": 500
                            }
                          ]
                        },
                        {
                          "not": {
                            "type": "object",
                            "required": [
                              "selector",
                              "elementText",
                              "elementId",
                              "elementTestId",
                              "elementClass",
                              "elementAttribute",
                              "elementAria"
                            ],
                            "title": "Find element and type"
                          }
                        }
                      ]
                    }
                  }
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Find element (simple)",
                    "type": "string",
                    "description": "Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."
                  },
                  "object": {
                    "title": "Find element (detailed)",
                    "type": "object",
                    "anyOf": [
                      {
                        "required": [
                          "selector"
                        ]
                      },
                      {
                        "required": [
                          "elementText"
                        ]
                      },
                      {
                        "required": [
                          "elementId"
                        ]
                      },
                      {
                        "required": [
                          "elementTestId"
                        ]
                      },
                      {
                        "required": [
                          "elementClass"
                        ]
                      },
                      {
                        "required": [
                          "elementAttribute"
                        ]
                      },
                      {
                        "required": [
                          "elementAria"
                        ]
                      }
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "elementText": {
                        "type": "string",
                        "description": "Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."
                      },
                      "selector": {
                        "type": "string",
                        "description": "Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."
                      },
                      "elementId": {
                        "type": "string",
                        "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementTestId": {
                        "type": "string",
                        "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementClass": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        ],
                        "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                      },
                      "elementAttribute": {
                        "type": "object",
                        "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      },
                      "elementAria": {
                        "type": "string",
                        "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "timeout": {
                        "type": "integer",
                        "description": "Max duration in milliseconds to wait for the element to exist.",
                        "default": 5000
                      },
                      "moveTo": {
                        "description": "Move to the element. If the element isn't visible, it's scrolled into view.",
                        "type": "boolean",
                        "default": true
                      },
                      "click": {
                        "description": "Click the element.",
                        "anyOf": [
                          {
                            "$schema": "http://json-schema.org/draft-07/schema#",
                            "title": "click",
                            "description": "Click or tap an element.",
                            "anyOf": [
                              {
                                "title": "Click element (simple)",
                                "type": "string",
                                "description": "Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."
                              },
                              {
                                "title": "Click element (detailed)",
                                "type": "object",
                                "anyOf": [
                                  {
                                    "required": [
                                      "selector"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementText"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementId"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementTestId"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementClass"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementAttribute"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "elementAria"
                                    ]
                                  }
                                ],
                                "properties": {
                                  "button": {
                                    "description": "Kind of click to perform.",
                                    "type": "string",
                                    "enum": [
                                      "left",
                                      "right",
                                      "middle"
                                    ]
                                  },
                                  "elementText": {
                                    "type": "string",
                                    "description": "Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                  },
                                  "selector": {
                                    "type": "string",
                                    "description": "Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                  },
                                  "elementId": {
                                    "type": "string",
                                    "description": "ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementTestId": {
                                    "type": "string",
                                    "description": "data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementClass": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    ],
                                    "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                  },
                                  "elementAttribute": {
                                    "type": "object",
                                    "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "type": "boolean"
                                        }
                                      ]
                                    }
                                  },
                                  "elementAria": {
                                    "type": "string",
                                    "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                  }
                                }
                              },
                              {
                                "type": "boolean"
                              }
                            ],
                            "components": {
                              "schemas": {
                                "string": {
                                  "title": "Click element (simple)",
                                  "type": "string",
                                  "description": "Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."
                                },
                                "button": {
                                  "description": "Kind of click to perform.",
                                  "type": "string",
                                  "enum": [
                                    "left",
                                    "right",
                                    "middle"
                                  ]
                                },
                                "object": {
                                  "title": "Click element (detailed)",
                                  "type": "object",
                                  "anyOf": [
                                    {
                                      "required": [
                                        "selector"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "elementText"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "elementId"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "elementTestId"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "elementClass"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "elementAttribute"
                                      ]
                                    },
                                    {
                                      "required": [
                                        "elementAria"
                                      ]
                                    }
                                  ],
                                  "properties": {
                                    "button": {
                                      "description": "Kind of click to perform.",
                                      "type": "string",
                                      "enum": [
                                        "left",
                                        "right",
                                        "middle"
                                      ]
                                    },
                                    "elementText": {
                                      "type": "string",
                                      "description": "Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                    },
                                    "selector": {
                                      "type": "string",
                                      "description": "Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."
                                    },
                                    "elementId": {
                                      "type": "string",
                                      "description": "ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                    },
                                    "elementTestId": {
                                      "type": "string",
                                      "description": "data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."
                                    },
                                    "elementClass": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      ],
                                      "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                    },
                                    "elementAttribute": {
                                      "type": "object",
                                      "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                      "additionalProperties": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "number"
                                          },
                                          {
                                            "type": "boolean"
                                          }
                                        ]
                                      }
                                    },
                                    "elementAria": {
                                      "type": "string",
                                      "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                    }
                                  }
                                }
                              }
                            },
                            "examples": [
                              true,
                              "Submit",
                              {
                                "button": "left",
                                "elementText": "Element text"
                              },
                              {
                                "selector": "#elementToScreenshot",
                                "elementText": "Element text",
                                "button": "middle"
                              }
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "button": {
                                "description": "Kind of click to perform.",
                                "type": "string",
                                "enum": [
                                  "left",
                                  "right",
                                  "middle"
                                ]
                              }
                            },
                            "title": "Find element and click"
                          }
                        ]
                      },
                      "type": {
                        "description": "Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",
                        "allOf": [
                          {
                            "$schema": "http://json-schema.org/draft-07/schema#",
                            "title": "typeKeys",
                            "description": "Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",
                            "anyOf": [
                              {
                                "title": "Type keys (simple)",
                                "description": "Sequence of keys to enter.",
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "title": "Type keys (detailed)",
                                "type": "object",
                                "properties": {
                                  "keys": {
                                    "title": "Type keys (simple)",
                                    "description": "Sequence of keys to enter.",
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  "inputDelay": {
                                    "type": "number",
                                    "description": "Delay in milliseconds between each key press during a recording",
                                    "default": 100
                                  },
                                  "selector": {
                                    "type": "string",
                                    "description": "Selector for the element to type into. If not specified, the typing occurs in the active element."
                                  },
                                  "elementText": {
                                    "type": "string",
                                    "description": "Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."
                                  },
                                  "elementId": {
                                    "type": "string",
                                    "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementTestId": {
                                    "type": "string",
                                    "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                  },
                                  "elementClass": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    ],
                                    "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                  },
                                  "elementAttribute": {
                                    "type": "object",
                                    "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                    "additionalProperties": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "number"
                                        },
                                        {
                                          "type": "boolean"
                                        }
                                      ]
                                    }
                                  },
                                  "elementAria": {
                                    "type": "string",
                                    "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                  }
                                },
                                "required": [
                                  "keys"
                                ],
                                "additionalProperties": false
                              }
                            ],
                            "components": {
                              "schemas": {
                                "keys": {
                                  "title": "Type keys (simple)",
                                  "description": "Sequence of keys to enter.",
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                },
                                "object": {
                                  "title": "Type keys (detailed)",
                                  "type": "object",
                                  "properties": {
                                    "keys": {
                                      "title": "Type keys (simple)",
                                      "description": "Sequence of keys to enter.",
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              }
                                            ]
                                          }
                                        }
                                      ]
                                    },
                                    "inputDelay": {
                                      "type": "number",
                                      "description": "Delay in milliseconds between each key press during a recording",
                                      "default": 100
                                    },
                                    "selector": {
                                      "type": "string",
                                      "description": "Selector for the element to type into. If not specified, the typing occurs in the active element."
                                    },
                                    "elementText": {
                                      "type": "string",
                                      "description": "Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."
                                    },
                                    "elementId": {
                                      "type": "string",
                                      "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                    },
                                    "elementTestId": {
                                      "type": "string",
                                      "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                                    },
                                    "elementClass": {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      ],
                                      "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                                    },
                                    "elementAttribute": {
                                      "type": "object",
                                      "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                      "additionalProperties": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "number"
                                          },
                                          {
                                            "type": "boolean"
                                          }
                                        ]
                                      }
                                    },
                                    "elementAria": {
                                      "type": "string",
                                      "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                                    }
                                  },
                                  "required": [
                                    "keys"
                                  ],
                                  "additionalProperties": false
                                }
                              }
                            },
                            "examples": [
                              "kittens",
                              [
                                "$ENTER$"
                              ],
                              [
                                "kittens",
                                "$ENTER$"
                              ],
                              {
                                "keys": "kittens"
                              },
                              {
                                "keys": [
                                  "$ENTER$"
                                ]
                              },
                              {
                                "keys": [
                                  "kittens",
                                  "$ENTER$"
                                ],
                                "inputDelay": 500
                              }
                            ]
                          },
                          {
                            "not": {
                              "type": "object",
                              "required": [
                                "selector",
                                "elementText",
                                "elementId",
                                "elementTestId",
                                "elementClass",
                                "elementAttribute",
                                "elementAria"
                              ],
                              "title": "Find element and type"
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "examples": [
                "Find me!",
                {
                  "selector": "[title=Search]"
                },
                {
                  "selector": "[title=Search]",
                  "timeout": 10000,
                  "elementText": "Search",
                  "moveTo": true,
                  "click": true,
                  "type": "shorthair cat"
                },
                {
                  "selector": "[title=Search]",
                  "click": {
                    "button": "right"
                  }
                },
                {
                  "selector": "[title=Search]",
                  "timeout": 10000,
                  "elementText": "Search",
                  "moveTo": true,
                  "click": true,
                  "type": {
                    "keys": [
                      "shorthair cat"
                    ],
                    "inputDelay": 100
                  }
                },
                {
                  "elementId": "/^user-[0-9]+$/",
                  "elementClass": [
                    "admin",
                    "/^level-[1-5]$/"
                  ],
                  "elementAttribute": {
                    "data-active": true,
                    "data-score": "/^[0-9]+$/"
                  },
                  "timeout": 8000,
                  "moveTo": false
                }
              ]
            }
          },
          "title": "find"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "goTo"
          ],
          "properties": {
            "goTo": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "goTo",
              "anyOf": [
                {
                  "title": "Go to URL (simple)",
                  "description": "Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",
                  "type": "string",
                  "pattern": "(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "description": "Navigate to an HTTP or HTTPS URL.",
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "url"
                  ],
                  "properties": {
                    "url": {
                      "type": "string",
                      "description": "URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",
                      "pattern": "(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",
                      "transform": [
                        "trim"
                      ]
                    },
                    "origin": {
                      "type": "string",
                      "description": "Protocol and domain to navigate to. Prepended to `url`.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "timeout": {
                      "type": "integer",
                      "description": "Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",
                      "default": 30000,
                      "minimum": 0
                    },
                    "waitUntil": {
                      "type": "object",
                      "description": "Configuration for waiting conditions after navigation.",
                      "additionalProperties": false,
                      "properties": {
                        "networkIdleTime": {
                          "description": "Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",
                          "anyOf": [
                            {
                              "type": "integer",
                              "minimum": 0
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": 500
                        },
                        "domIdleTime": {
                          "description": "Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",
                          "anyOf": [
                            {
                              "type": "integer",
                              "minimum": 0
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "default": 1000
                        },
                        "find": {
                          "type": "object",
                          "description": "Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",
                          "additionalProperties": false,
                          "anyOf": [
                            {
                              "required": [
                                "selector"
                              ]
                            },
                            {
                              "required": [
                                "elementText"
                              ]
                            },
                            {
                              "required": [
                                "elementId"
                              ]
                            },
                            {
                              "required": [
                                "elementTestId"
                              ]
                            },
                            {
                              "required": [
                                "elementClass"
                              ]
                            },
                            {
                              "required": [
                                "elementAttribute"
                              ]
                            },
                            {
                              "required": [
                                "elementAria"
                              ]
                            }
                          ],
                          "properties": {
                            "selector": {
                              "type": "string",
                              "description": "CSS selector for the element to wait for."
                            },
                            "elementText": {
                              "type": "string",
                              "description": "Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."
                            },
                            "elementId": {
                              "type": "string",
                              "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                            },
                            "elementTestId": {
                              "type": "string",
                              "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                            },
                            "elementClass": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              ],
                              "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                            },
                            "elementAttribute": {
                              "type": "object",
                              "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "boolean"
                                  }
                                ]
                              }
                            },
                            "elementAria": {
                              "type": "string",
                              "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                            }
                          }
                        }
                      }
                    }
                  },
                  "title": "Go to URL (detailed)"
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Go to URL (simple)",
                    "description": "Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",
                    "type": "string",
                    "pattern": "(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "description": "Navigate to an HTTP or HTTPS URL.",
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "url"
                    ],
                    "properties": {
                      "url": {
                        "type": "string",
                        "description": "URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",
                        "pattern": "(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",
                        "transform": [
                          "trim"
                        ]
                      },
                      "origin": {
                        "type": "string",
                        "description": "Protocol and domain to navigate to. Prepended to `url`.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "timeout": {
                        "type": "integer",
                        "description": "Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",
                        "default": 30000,
                        "minimum": 0
                      },
                      "waitUntil": {
                        "type": "object",
                        "description": "Configuration for waiting conditions after navigation.",
                        "additionalProperties": false,
                        "properties": {
                          "networkIdleTime": {
                            "description": "Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",
                            "anyOf": [
                              {
                                "type": "integer",
                                "minimum": 0
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "default": 500
                          },
                          "domIdleTime": {
                            "description": "Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",
                            "anyOf": [
                              {
                                "type": "integer",
                                "minimum": 0
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "default": 1000
                          },
                          "find": {
                            "type": "object",
                            "description": "Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",
                            "additionalProperties": false,
                            "anyOf": [
                              {
                                "required": [
                                  "selector"
                                ]
                              },
                              {
                                "required": [
                                  "elementText"
                                ]
                              },
                              {
                                "required": [
                                  "elementId"
                                ]
                              },
                              {
                                "required": [
                                  "elementTestId"
                                ]
                              },
                              {
                                "required": [
                                  "elementClass"
                                ]
                              },
                              {
                                "required": [
                                  "elementAttribute"
                                ]
                              },
                              {
                                "required": [
                                  "elementAria"
                                ]
                              }
                            ],
                            "properties": {
                              "selector": {
                                "type": "string",
                                "description": "CSS selector for the element to wait for."
                              },
                              "elementText": {
                                "type": "string",
                                "description": "Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."
                              },
                              "elementId": {
                                "type": "string",
                                "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                              },
                              "elementTestId": {
                                "type": "string",
                                "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                              },
                              "elementClass": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                ],
                                "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                              },
                              "elementAttribute": {
                                "type": "object",
                                "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "boolean"
                                    }
                                  ]
                                }
                              },
                              "elementAria": {
                                "type": "string",
                                "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                              }
                            }
                          }
                        }
                      }
                    },
                    "title": "Go to URL (detailed)"
                  }
                }
              },
              "examples": [
                "https://www.google.com",
                "/search",
                {
                  "url": "https://www.google.com"
                },
                {
                  "url": "/search",
                  "origin": "https://www.google.com"
                },
                {
                  "url": "https://www.example.com",
                  "waitUntil": {
                    "networkIdleTime": 500
                  }
                },
                {
                  "url": "https://www.example.com/dashboard",
                  "waitUntil": {
                    "find": {
                      "selector": "[data-testid='dashboard-loaded']"
                    }
                  }
                },
                {
                  "url": "https://www.example.com/app",
                  "timeout": 60000,
                  "waitUntil": {
                    "networkIdleTime": 500,
                    "domIdleTime": 1000,
                    "find": {
                      "selector": ".main-content",
                      "elementText": "Dashboard"
                    }
                  }
                },
                {
                  "url": "https://www.example.com/app",
                  "timeout": 60000,
                  "waitUntil": {
                    "networkIdleTime": null
                  }
                },
                {
                  "url": "https://www.example.com/status",
                  "waitUntil": {
                    "find": {
                      "elementText": "System operational"
                    }
                  }
                },
                {
                  "url": "http://localhost:8092",
                  "waitUntil": {
                    "find": {
                      "selector": "button",
                      "elementText": "Standard Button",
                      "elementTestId": "standard-btn",
                      "elementAria": "Sample Standard Button",
                      "elementId": "standard-btn",
                      "elementClass": [
                        "btn"
                      ],
                      "elementAttribute": {
                        "type": "button",
                        "value": "Standard Button"
                      }
                    }
                  }
                }
              ]
            }
          },
          "title": "goTo"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "httpRequest"
          ],
          "properties": {
            "httpRequest": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "httpRequest",
              "description": "Perform a generic HTTP request, for example to an API.",
              "anyOf": [
                {
                  "title": "HTTP request (simple)",
                  "type": "string",
                  "description": "URL for the HTTP request.",
                  "pattern": "(^(http://|https://).*|\\$[A-Za-z0-9_]+)",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "title": "HTTP request (detailed)",
                  "type": "object",
                  "anyOf": [
                    {
                      "required": [
                        "url"
                      ]
                    },
                    {
                      "required": [
                        "openApi"
                      ]
                    }
                  ],
                  "additionalProperties": false,
                  "properties": {
                    "url": {
                      "title": "HTTP request (simple)",
                      "type": "string",
                      "description": "URL for the HTTP request.",
                      "pattern": "(^(http://|https://).*|\\$[A-Za-z0-9_]+)",
                      "transform": [
                        "trim"
                      ]
                    },
                    "openApi": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string",
                              "description": "ID of the operation to use for the request."
                            },
                            {
                              "title": "Operation ID",
                              "description": "Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."
                            }
                          ]
                        },
                        {
                          "allOf": [
                            {
                              "version": "1.0.0",
                              "$schema": "http://json-schema.org/draft-07/schema#",
                              "title": "openApi",
                              "type": "object",
                              "description": "OpenAPI description and configuration.",
                              "additionalProperties": false,
                              "anyOf": [
                                {
                                  "required": [
                                    "descriptionPath"
                                  ]
                                },
                                {
                                  "required": [
                                    "operationId"
                                  ]
                                }
                              ],
                              "properties": {
                                "name": {
                                  "type": "string",
                                  "description": "Name of the OpenAPI description, as defined in your configuration."
                                },
                                "descriptionPath": {
                                  "type": "string",
                                  "description": "URL or local path to the OpenAPI description."
                                },
                                "definition": {
                                  "type": "object",
                                  "readOnly": true,
                                  "description": "OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",
                                  "additionalProperties": true,
                                  "title": "OpenAPI definition"
                                },
                                "operationId": {
                                  "type": "string",
                                  "description": "ID of the operation to use for the request."
                                },
                                "server": {
                                  "type": "string",
                                  "description": "Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."
                                },
                                "validateAgainstSchema": {
                                  "type": "string",
                                  "description": "Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",
                                  "enum": [
                                    "request",
                                    "response",
                                    "both",
                                    "none"
                                  ],
                                  "default": "both"
                                },
                                "mockResponse": {
                                  "type": "boolean",
                                  "description": "If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."
                                },
                                "statusCode": {
                                  "type": "integer",
                                  "description": "Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."
                                },
                                "useExample": {
                                  "type": [
                                    "string"
                                  ],
                                  "description": "Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",
                                  "enum": [
                                    "request",
                                    "response",
                                    "both",
                                    "none"
                                  ],
                                  "default": "none"
                                },
                                "exampleKey": {
                                  "type": "string",
                                  "description": "Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",
                                  "default": ""
                                },
                                "headers": {
                                  "type": "object",
                                  "description": "Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "title": "OpenAPI request headers"
                                }
                              },
                              "components": {
                                "schemas": {
                                  "operationId": {
                                    "type": "string",
                                    "description": "ID of the operation to use for the request."
                                  },
                                  "descriptionPath": {
                                    "type": "string",
                                    "description": "URL or local path to the OpenAPI description."
                                  }
                                }
                              },
                              "examples": [
                                {
                                  "descriptionPath": "https://petstore.swagger.io/v2/swagger.json"
                                },
                                {
                                  "name": "Reqres",
                                  "operationId": "getUserById"
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "getUserById"
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "createUser",
                                  "useExample": "both"
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "createUser",
                                  "useExample": "both",
                                  "exampleKey": "example1"
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "createUser",
                                  "useExample": "both",
                                  "exampleKey": "example1",
                                  "statusCode": 201
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "createUser",
                                  "useExample": "both",
                                  "exampleKey": "example1",
                                  "statusCode": 201,
                                  "validateAgainstSchema": "none"
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "createUser",
                                  "useExample": "both",
                                  "exampleKey": "example1",
                                  "statusCode": 201,
                                  "validateAgainstSchema": "none",
                                  "mockResponse": true
                                },
                                {
                                  "descriptionPath": "https://api.example.com/openapi.json",
                                  "operationId": "createUser",
                                  "useExample": "both",
                                  "exampleKey": "example1",
                                  "statusCode": 201,
                                  "validateAgainstSchema": "none",
                                  "mockResponse": true,
                                  "headers": {
                                    "Authorization": "Bearer 12345"
                                  }
                                }
                              ]
                            },
                            {
                              "type": "object",
                              "required": [
                                "operationId"
                              ],
                              "title": "OpenAPI definition (httpRequest)"
                            }
                          ]
                        }
                      ]
                    },
                    "statusCodes": {
                      "description": "Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "integer"
                          }
                        ]
                      },
                      "default": [
                        200,
                        201
                      ]
                    },
                    "method": {
                      "type": "string",
                      "description": "Method of the HTTP request",
                      "enum": [
                        "get",
                        "put",
                        "post",
                        "patch",
                        "delete"
                      ],
                      "transform": [
                        "trim",
                        "toEnumCase"
                      ],
                      "default": "get"
                    },
                    "timeout": {
                      "type": "integer",
                      "description": "Timeout for the HTTP request, in milliseconds.",
                      "default": 60000
                    },
                    "request": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "headers": {
                          "description": "Headers to include in the HTTP request.",
                          "default": {},
                          "anyOf": [
                            {
                              "title": "Request headers (object)",
                              "description": "Headers to include in the HTTP request, in key/value format.",
                              "type": "object",
                              "additionalProperties": true,
                              "properties": {}
                            },
                            {
                              "title": "Request headers (string)",
                              "description": "Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",
                              "type": "string"
                            }
                          ]
                        },
                        "parameters": {
                          "description": "URL parameters to include in the HTTP request, in key/value format.",
                          "type": "object",
                          "additionalProperties": true,
                          "default": {},
                          "properties": {},
                          "title": "Request parameters"
                        },
                        "body": {
                          "description": "The body of the HTTP request.",
                          "anyOf": [
                            {
                              "title": "Request body (object)",
                              "description": "JSON object to include as the body of the HTTP request.",
                              "type": "object",
                              "additionalProperties": true,
                              "properties": {}
                            },
                            {
                              "title": "Request body (array)",
                              "description": "JSON array to include as the body of the HTTP request.",
                              "type": "array",
                              "items": {}
                            },
                            {
                              "title": "Request body (string)",
                              "description": "String to include as the body of the HTTP request.",
                              "type": "string"
                            }
                          ],
                          "default": {}
                        }
                      },
                      "title": "Request"
                    },
                    "response": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "headers": {
                          "description": "Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",
                          "type": "object",
                          "additionalProperties": true,
                          "properties": {},
                          "default": {},
                          "title": "Response headers"
                        },
                        "body": {
                          "description": "JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",
                          "anyOf": [
                            {
                              "type": "object",
                              "additionalProperties": true,
                              "properties": {},
                              "title": "Response body object",
                              "description": "JSON key/value pairs expected in the response."
                            },
                            {
                              "title": "Response body array",
                              "description": "JSON array expected in the response.",
                              "type": "array",
                              "items": {}
                            },
                            {
                              "title": "Response body string",
                              "description": "String expected in the response.",
                              "type": "string"
                            }
                          ],
                          "default": {}
                        },
                        "required": {
                          "type": "array",
                          "description": "Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        }
                      },
                      "title": "Response"
                    },
                    "allowAdditionalFields": {
                      "type": "boolean",
                      "description": "If `false`, the step fails when the response data contains fields not specified in the response body.",
                      "default": true
                    },
                    "path": {
                      "type": "string",
                      "description": "File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."
                    },
                    "directory": {
                      "type": "string",
                      "description": "Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."
                    },
                    "maxVariation": {
                      "type": "number",
                      "description": "Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",
                      "default": 0,
                      "minimum": 0,
                      "maximum": 1
                    },
                    "overwrite": {
                      "type": "string",
                      "description": "If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",
                      "enum": [
                        "true",
                        "false",
                        "aboveVariation"
                      ],
                      "default": "aboveVariation"
                    }
                  }
                }
              ],
              "components": {
                "schemas": {
                  "url": {
                    "title": "HTTP request (simple)",
                    "type": "string",
                    "description": "URL for the HTTP request.",
                    "pattern": "(^(http://|https://).*|\\$[A-Za-z0-9_]+)",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "title": "HTTP request (detailed)",
                    "type": "object",
                    "anyOf": [
                      {
                        "required": [
                          "url"
                        ]
                      },
                      {
                        "required": [
                          "openApi"
                        ]
                      }
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "url": {
                        "title": "HTTP request (simple)",
                        "type": "string",
                        "description": "URL for the HTTP request.",
                        "pattern": "(^(http://|https://).*|\\$[A-Za-z0-9_]+)",
                        "transform": [
                          "trim"
                        ]
                      },
                      "openApi": {
                        "anyOf": [
                          {
                            "allOf": [
                              {
                                "type": "string",
                                "description": "ID of the operation to use for the request."
                              },
                              {
                                "title": "Operation ID",
                                "description": "Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."
                              }
                            ]
                          },
                          {
                            "allOf": [
                              {
                                "version": "1.0.0",
                                "$schema": "http://json-schema.org/draft-07/schema#",
                                "title": "openApi",
                                "type": "object",
                                "description": "OpenAPI description and configuration.",
                                "additionalProperties": false,
                                "anyOf": [
                                  {
                                    "required": [
                                      "descriptionPath"
                                    ]
                                  },
                                  {
                                    "required": [
                                      "operationId"
                                    ]
                                  }
                                ],
                                "properties": {
                                  "name": {
                                    "type": "string",
                                    "description": "Name of the OpenAPI description, as defined in your configuration."
                                  },
                                  "descriptionPath": {
                                    "type": "string",
                                    "description": "URL or local path to the OpenAPI description."
                                  },
                                  "definition": {
                                    "type": "object",
                                    "readOnly": true,
                                    "description": "OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",
                                    "additionalProperties": true,
                                    "title": "OpenAPI definition"
                                  },
                                  "operationId": {
                                    "type": "string",
                                    "description": "ID of the operation to use for the request."
                                  },
                                  "server": {
                                    "type": "string",
                                    "description": "Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."
                                  },
                                  "validateAgainstSchema": {
                                    "type": "string",
                                    "description": "Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",
                                    "enum": [
                                      "request",
                                      "response",
                                      "both",
                                      "none"
                                    ],
                                    "default": "both"
                                  },
                                  "mockResponse": {
                                    "type": "boolean",
                                    "description": "If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."
                                  },
                                  "statusCode": {
                                    "type": "integer",
                                    "description": "Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."
                                  },
                                  "useExample": {
                                    "type": [
                                      "string"
                                    ],
                                    "description": "Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",
                                    "enum": [
                                      "request",
                                      "response",
                                      "both",
                                      "none"
                                    ],
                                    "default": "none"
                                  },
                                  "exampleKey": {
                                    "type": "string",
                                    "description": "Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",
                                    "default": ""
                                  },
                                  "headers": {
                                    "type": "object",
                                    "description": "Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",
                                    "additionalProperties": {
                                      "type": "string"
                                    },
                                    "title": "OpenAPI request headers"
                                  }
                                },
                                "components": {
                                  "schemas": {
                                    "operationId": {
                                      "type": "string",
                                      "description": "ID of the operation to use for the request."
                                    },
                                    "descriptionPath": {
                                      "type": "string",
                                      "description": "URL or local path to the OpenAPI description."
                                    }
                                  }
                                },
                                "examples": [
                                  {
                                    "descriptionPath": "https://petstore.swagger.io/v2/swagger.json"
                                  },
                                  {
                                    "name": "Reqres",
                                    "operationId": "getUserById"
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "getUserById"
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "createUser",
                                    "useExample": "both"
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "createUser",
                                    "useExample": "both",
                                    "exampleKey": "example1"
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "createUser",
                                    "useExample": "both",
                                    "exampleKey": "example1",
                                    "statusCode": 201
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "createUser",
                                    "useExample": "both",
                                    "exampleKey": "example1",
                                    "statusCode": 201,
                                    "validateAgainstSchema": "none"
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "createUser",
                                    "useExample": "both",
                                    "exampleKey": "example1",
                                    "statusCode": 201,
                                    "validateAgainstSchema": "none",
                                    "mockResponse": true
                                  },
                                  {
                                    "descriptionPath": "https://api.example.com/openapi.json",
                                    "operationId": "createUser",
                                    "useExample": "both",
                                    "exampleKey": "example1",
                                    "statusCode": 201,
                                    "validateAgainstSchema": "none",
                                    "mockResponse": true,
                                    "headers": {
                                      "Authorization": "Bearer 12345"
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "object",
                                "required": [
                                  "operationId"
                                ],
                                "title": "OpenAPI definition (httpRequest)"
                              }
                            ]
                          }
                        ]
                      },
                      "statusCodes": {
                        "description": "Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "integer"
                            }
                          ]
                        },
                        "default": [
                          200,
                          201
                        ]
                      },
                      "method": {
                        "type": "string",
                        "description": "Method of the HTTP request",
                        "enum": [
                          "get",
                          "put",
                          "post",
                          "patch",
                          "delete"
                        ],
                        "transform": [
                          "trim",
                          "toEnumCase"
                        ],
                        "default": "get"
                      },
                      "timeout": {
                        "type": "integer",
                        "description": "Timeout for the HTTP request, in milliseconds.",
                        "default": 60000
                      },
                      "request": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "headers": {
                            "description": "Headers to include in the HTTP request.",
                            "default": {},
                            "anyOf": [
                              {
                                "title": "Request headers (object)",
                                "description": "Headers to include in the HTTP request, in key/value format.",
                                "type": "object",
                                "additionalProperties": true,
                                "properties": {}
                              },
                              {
                                "title": "Request headers (string)",
                                "description": "Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",
                                "type": "string"
                              }
                            ]
                          },
                          "parameters": {
                            "description": "URL parameters to include in the HTTP request, in key/value format.",
                            "type": "object",
                            "additionalProperties": true,
                            "default": {},
                            "properties": {},
                            "title": "Request parameters"
                          },
                          "body": {
                            "description": "The body of the HTTP request.",
                            "anyOf": [
                              {
                                "title": "Request body (object)",
                                "description": "JSON object to include as the body of the HTTP request.",
                                "type": "object",
                                "additionalProperties": true,
                                "properties": {}
                              },
                              {
                                "title": "Request body (array)",
                                "description": "JSON array to include as the body of the HTTP request.",
                                "type": "array",
                                "items": {}
                              },
                              {
                                "title": "Request body (string)",
                                "description": "String to include as the body of the HTTP request.",
                                "type": "string"
                              }
                            ],
                            "default": {}
                          }
                        },
                        "title": "Request"
                      },
                      "response": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "headers": {
                            "description": "Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",
                            "type": "object",
                            "additionalProperties": true,
                            "properties": {},
                            "default": {},
                            "title": "Response headers"
                          },
                          "body": {
                            "description": "JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",
                            "anyOf": [
                              {
                                "type": "object",
                                "additionalProperties": true,
                                "properties": {},
                                "title": "Response body object",
                                "description": "JSON key/value pairs expected in the response."
                              },
                              {
                                "title": "Response body array",
                                "description": "JSON array expected in the response.",
                                "type": "array",
                                "items": {}
                              },
                              {
                                "title": "Response body string",
                                "description": "String expected in the response.",
                                "type": "string"
                              }
                            ],
                            "default": {}
                          },
                          "required": {
                            "type": "array",
                            "description": "Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          }
                        },
                        "title": "Response"
                      },
                      "allowAdditionalFields": {
                        "type": "boolean",
                        "description": "If `false`, the step fails when the response data contains fields not specified in the response body.",
                        "default": true
                      },
                      "path": {
                        "type": "string",
                        "description": "File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."
                      },
                      "directory": {
                        "type": "string",
                        "description": "Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."
                      },
                      "maxVariation": {
                        "type": "number",
                        "description": "Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",
                        "default": 0,
                        "minimum": 0,
                        "maximum": 1
                      },
                      "overwrite": {
                        "type": "string",
                        "description": "If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",
                        "enum": [
                          "true",
                          "false",
                          "aboveVariation"
                        ],
                        "default": "aboveVariation"
                      }
                    }
                  }
                }
              },
              "examples": [
                "https://reqres.in/api/users",
                {
                  "url": "https://reqres.in/api/users"
                },
                {
                  "url": "https://reqres.in/api/users/2",
                  "method": "put",
                  "request": {
                    "body": {
                      "name": "morpheus",
                      "job": "zion resident"
                    }
                  }
                },
                {
                  "url": "https://reqres.in/api/users",
                  "method": "post",
                  "request": {
                    "body": {
                      "name": "morpheus",
                      "job": "leader"
                    }
                  },
                  "response": {
                    "body": {
                      "name": "morpheus",
                      "job": "leader"
                    }
                  },
                  "statusCodes": [
                    200,
                    201
                  ]
                },
                {
                  "url": "https://www.api-server.com",
                  "method": "post",
                  "timeout": 30000,
                  "request": {
                    "body": {
                      "field": "value"
                    },
                    "headers": {
                      "header": "value"
                    },
                    "parameters": {
                      "param": "value"
                    }
                  },
                  "response": {
                    "body": {
                      "field": "value"
                    },
                    "headers": {
                      "header": "value"
                    }
                  },
                  "statusCodes": [
                    200
                  ]
                },
                {
                  "url": "https://reqres.in/api/users",
                  "method": "post",
                  "request": {
                    "body": {
                      "name": "morpheus",
                      "job": "leader"
                    }
                  },
                  "response": {
                    "body": {
                      "name": "morpheus",
                      "job": "leader"
                    }
                  },
                  "statusCodes": [
                    200,
                    201
                  ],
                  "path": "response.json",
                  "directory": "media",
                  "maxVariation": 0.05,
                  "overwrite": "aboveVariation"
                },
                {
                  "openApi": "getUserById"
                },
                {
                  "openApi": {
                    "name": "Reqres",
                    "operationId": "getUserById"
                  },
                  "request": {
                    "parameters": {
                      "id": 123
                    }
                  }
                },
                {
                  "openApi": {
                    "descriptionPath": "https://api.example.com/openapi.json",
                    "operationId": "getUserById"
                  },
                  "request": {
                    "parameters": {
                      "id": 123
                    }
                  }
                },
                {
                  "openApi": {
                    "descriptionPath": "https://api.example.com/openapi.json",
                    "operationId": "createUser",
                    "useExample": "both"
                  }
                },
                {
                  "openApi": {
                    "descriptionPath": "https://api.example.com/openapi.json",
                    "operationId": "updateUser",
                    "useExample": "request",
                    "exampleKey": "acme"
                  }
                },
                {
                  "openApi": {
                    "descriptionPath": "https://api.example.com/openapi.json",
                    "operationId": "updateUser",
                    "useExample": "request",
                    "exampleKey": "acme",
                    "headers": {
                      "Authorization": "Bearer $TOKEN"
                    }
                  }
                },
                {
                  "url": "https://www.api-server.com",
                  "method": "post",
                  "request": {
                    "headers": "Content-Type: application/json\\nAuthorization: Bearer token"
                  }
                },
                {
                  "url": "https://api.example.com/users/123",
                  "response": {
                    "required": [
                      "id",
                      "email",
                      "createdAt"
                    ]
                  }
                },
                {
                  "url": "https://api.example.com/users/123",
                  "response": {
                    "required": [
                      "user.profile.name",
                      "user.profile.avatar",
                      "user.settings.notifications"
                    ]
                  }
                },
                {
                  "url": "https://api.example.com/orders",
                  "response": {
                    "required": [
                      "orders[0].id",
                      "orders[0].total",
                      "orders[0].items[0].productId"
                    ]
                  }
                },
                {
                  "url": "https://api.example.com/users",
                  "response": {
                    "required": [
                      "sessionToken",
                      "expiresAt",
                      "user.id"
                    ],
                    "body": {
                      "status": "success",
                      "user": {
                        "role": "admin"
                      }
                    }
                  }
                }
              ]
            }
          },
          "title": "httpRequest"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "runShell"
          ],
          "properties": {
            "runShell": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "runShell",
              "description": "Perform a native shell command.",
              "anyOf": [
                {
                  "title": "Run shell command (simple)",
                  "description": "Command to perform in the machine's default shell.",
                  "type": "string",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "type": "object",
                  "required": [
                    "command"
                  ],
                  "additionalProperties": false,
                  "properties": {
                    "command": {
                      "type": "string",
                      "description": "Command to perform in the machine's default shell."
                    },
                    "args": {
                      "type": "array",
                      "description": "Arguments for the command.",
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "default": []
                    },
                    "workingDirectory": {
                      "type": "string",
                      "description": "Working directory for the command.",
                      "default": "."
                    },
                    "exitCodes": {
                      "type": "array",
                      "description": "Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",
                      "items": {
                        "anyOf": [
                          {
                            "type": "integer"
                          }
                        ]
                      },
                      "default": [
                        0
                      ]
                    },
                    "stdio": {
                      "type": "string",
                      "description": "Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."
                    },
                    "path": {
                      "type": "string",
                      "description": "File path to save the command's output, relative to `directory`."
                    },
                    "directory": {
                      "type": "string",
                      "description": "Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."
                    },
                    "maxVariation": {
                      "type": "number",
                      "description": "Allowed variation as a fraction (0 to 1) of text different between the current output and previously saved output. For example, 0.1 means 10%. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",
                      "default": 0,
                      "minimum": 0,
                      "maximum": 1
                    },
                    "overwrite": {
                      "type": "string",
                      "description": "If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",
                      "enum": [
                        "true",
                        "false",
                        "aboveVariation"
                      ],
                      "default": "aboveVariation"
                    },
                    "timeout": {
                      "type": "integer",
                      "description": "Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",
                      "default": 60000
                    }
                  },
                  "title": "Run shell command (detailed)"
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Run shell command (simple)",
                    "description": "Command to perform in the machine's default shell.",
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "type": "object",
                    "required": [
                      "command"
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "command": {
                        "type": "string",
                        "description": "Command to perform in the machine's default shell."
                      },
                      "args": {
                        "type": "array",
                        "description": "Arguments for the command.",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            }
                          ]
                        },
                        "default": []
                      },
                      "workingDirectory": {
                        "type": "string",
                        "description": "Working directory for the command.",
                        "default": "."
                      },
                      "exitCodes": {
                        "type": "array",
                        "description": "Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",
                        "items": {
                          "anyOf": [
                            {
                              "type": "integer"
                            }
                          ]
                        },
                        "default": [
                          0
                        ]
                      },
                      "stdio": {
                        "type": "string",
                        "description": "Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."
                      },
                      "path": {
                        "type": "string",
                        "description": "File path to save the command's output, relative to `directory`."
                      },
                      "directory": {
                        "type": "string",
                        "description": "Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."
                      },
                      "maxVariation": {
                        "type": "number",
                        "description": "Allowed variation as a fraction (0 to 1) of text different between the current output and previously saved output. For example, 0.1 means 10%. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",
                        "default": 0,
                        "minimum": 0,
                        "maximum": 1
                      },
                      "overwrite": {
                        "type": "string",
                        "description": "If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",
                        "enum": [
                          "true",
                          "false",
                          "aboveVariation"
                        ],
                        "default": "aboveVariation"
                      },
                      "timeout": {
                        "type": "integer",
                        "description": "Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",
                        "default": 60000
                      }
                    },
                    "title": "Run shell command (detailed)"
                  }
                }
              },
              "examples": [
                "docker run hello-world",
                {
                  "command": "echo",
                  "args": [
                    "$USER"
                  ]
                },
                {
                  "command": "echo",
                  "args": [
                    "hello-world"
                  ]
                },
                {
                  "command": "docker run hello-world",
                  "timeout": 20000,
                  "exitCodes": [
                    0
                  ],
                  "stdio": "Hello from Docker!"
                },
                {
                  "command": "false",
                  "exitCodes": [
                    1
                  ]
                },
                {
                  "command": "echo",
                  "args": [
                    "setup"
                  ],
                  "exitCodes": [
                    0
                  ],
                  "stdio": "/.*?/"
                },
                {
                  "command": "docker run hello-world",
                  "workingDirectory": ".",
                  "exitCodes": [
                    0
                  ],
                  "stdio": "Hello from Docker!",
                  "path": "docker-output.txt",
                  "directory": "output",
                  "maxVariation": 0.1,
                  "overwrite": "aboveVariation"
                }
              ]
            }
          },
          "title": "runShell"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "runCode"
          ],
          "properties": {
            "runCode": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "runCode",
              "description": "Assemble and run code.",
              "anyOf": [
                {
                  "type": "object",
                  "required": [
                    "code",
                    "language"
                  ],
                  "properties": {
                    "language": {
                      "type": "string",
                      "description": "Language of the code to run.",
                      "enum": [
                        "python",
                        "bash",
                        "javascript"
                      ]
                    },
                    "code": {
                      "description": "Code to run.",
                      "type": "string"
                    },
                    "args": {
                      "type": "array",
                      "description": "Arguments for the command.",
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "default": []
                    },
                    "workingDirectory": {
                      "type": "string",
                      "description": "Working directory for the command.",
                      "default": "."
                    },
                    "exitCodes": {
                      "type": "array",
                      "description": "Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",
                      "items": {
                        "anyOf": [
                          {
                            "type": "integer"
                          }
                        ]
                      },
                      "default": [
                        0
                      ]
                    },
                    "stdio": {
                      "type": "string",
                      "description": "Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."
                    },
                    "path": {
                      "type": "string",
                      "description": "File path to save the command's output, relative to `directory`."
                    },
                    "directory": {
                      "type": "string",
                      "description": "Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."
                    },
                    "maxVariation": {
                      "type": "number",
                      "description": "Allowed variation as a fraction (0 to 1) of text different between the current output and previously saved output. For example, 0.1 means 10%. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",
                      "default": 0,
                      "minimum": 0,
                      "maximum": 1
                    },
                    "overwrite": {
                      "type": "string",
                      "description": "If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",
                      "enum": [
                        "true",
                        "false",
                        "aboveVariation"
                      ],
                      "default": "aboveVariation"
                    },
                    "timeout": {
                      "type": "integer",
                      "description": "Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",
                      "default": 60000
                    }
                  },
                  "title": "Run code (detailed)"
                }
              ],
              "components": {
                "schemas": {
                  "object": {
                    "type": "object",
                    "required": [
                      "code",
                      "language"
                    ],
                    "properties": {
                      "language": {
                        "type": "string",
                        "description": "Language of the code to run.",
                        "enum": [
                          "python",
                          "bash",
                          "javascript"
                        ]
                      },
                      "code": {
                        "description": "Code to run.",
                        "type": "string"
                      },
                      "args": {
                        "type": "array",
                        "description": "Arguments for the command.",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            }
                          ]
                        },
                        "default": []
                      },
                      "workingDirectory": {
                        "type": "string",
                        "description": "Working directory for the command.",
                        "default": "."
                      },
                      "exitCodes": {
                        "type": "array",
                        "description": "Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",
                        "items": {
                          "anyOf": [
                            {
                              "type": "integer"
                            }
                          ]
                        },
                        "default": [
                          0
                        ]
                      },
                      "stdio": {
                        "type": "string",
                        "description": "Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."
                      },
                      "path": {
                        "type": "string",
                        "description": "File path to save the command's output, relative to `directory`."
                      },
                      "directory": {
                        "type": "string",
                        "description": "Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."
                      },
                      "maxVariation": {
                        "type": "number",
                        "description": "Allowed variation as a fraction (0 to 1) of text different between the current output and previously saved output. For example, 0.1 means 10%. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",
                        "default": 0,
                        "minimum": 0,
                        "maximum": 1
                      },
                      "overwrite": {
                        "type": "string",
                        "description": "If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",
                        "enum": [
                          "true",
                          "false",
                          "aboveVariation"
                        ],
                        "default": "aboveVariation"
                      },
                      "timeout": {
                        "type": "integer",
                        "description": "Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",
                        "default": 60000
                      }
                    },
                    "title": "Run code (detailed)"
                  }
                }
              },
              "examples": [
                {
                  "language": "javascript",
                  "code": "console.log('Hello, ${process.env.USER}!');"
                },
                {
                  "language": "bash",
                  "code": "docker run hello-world",
                  "timeout": 20000,
                  "exitCodes": [
                    0
                  ],
                  "stdio": "Hello from Docker!"
                },
                {
                  "language": "javascript",
                  "code": "return false",
                  "exitCodes": [
                    1
                  ]
                },
                {
                  "language": "python",
                  "code": "print('Hello from Python')",
                  "workingDirectory": ".",
                  "exitCodes": [
                    0
                  ],
                  "stdio": "Hello from Python!",
                  "path": "python-output.txt",
                  "directory": "output",
                  "maxVariation": 0.1,
                  "overwrite": "aboveVariation"
                }
              ]
            }
          },
          "title": "runCode"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "typeKeys",
              "description": "Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",
              "anyOf": [
                {
                  "title": "Type keys (simple)",
                  "description": "Sequence of keys to enter.",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "title": "Type keys (detailed)",
                  "type": "object",
                  "properties": {
                    "keys": {
                      "title": "Type keys (simple)",
                      "description": "Sequence of keys to enter.",
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "type": "string"
                              }
                            ]
                          }
                        }
                      ]
                    },
                    "inputDelay": {
                      "type": "number",
                      "description": "Delay in milliseconds between each key press during a recording",
                      "default": 100
                    },
                    "selector": {
                      "type": "string",
                      "description": "Selector for the element to type into. If not specified, the typing occurs in the active element."
                    },
                    "elementText": {
                      "type": "string",
                      "description": "Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."
                    },
                    "elementId": {
                      "type": "string",
                      "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "elementTestId": {
                      "type": "string",
                      "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                    },
                    "elementClass": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                    },
                    "elementAttribute": {
                      "type": "object",
                      "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "boolean"
                          }
                        ]
                      }
                    },
                    "elementAria": {
                      "type": "string",
                      "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                    }
                  },
                  "required": [
                    "keys"
                  ],
                  "additionalProperties": false
                }
              ],
              "components": {
                "schemas": {
                  "keys": {
                    "title": "Type keys (simple)",
                    "description": "Sequence of keys to enter.",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "object": {
                    "title": "Type keys (detailed)",
                    "type": "object",
                    "properties": {
                      "keys": {
                        "title": "Type keys (simple)",
                        "description": "Sequence of keys to enter.",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "string"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      "inputDelay": {
                        "type": "number",
                        "description": "Delay in milliseconds between each key press during a recording",
                        "default": 100
                      },
                      "selector": {
                        "type": "string",
                        "description": "Selector for the element to type into. If not specified, the typing occurs in the active element."
                      },
                      "elementText": {
                        "type": "string",
                        "description": "Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."
                      },
                      "elementId": {
                        "type": "string",
                        "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementTestId": {
                        "type": "string",
                        "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementClass": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        ],
                        "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                      },
                      "elementAttribute": {
                        "type": "object",
                        "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      },
                      "elementAria": {
                        "type": "string",
                        "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                      }
                    },
                    "required": [
                      "keys"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "examples": [
                "kittens",
                [
                  "$ENTER$"
                ],
                [
                  "kittens",
                  "$ENTER$"
                ],
                {
                  "keys": "kittens"
                },
                {
                  "keys": [
                    "$ENTER$"
                  ]
                },
                {
                  "keys": [
                    "kittens",
                    "$ENTER$"
                  ],
                  "inputDelay": 500
                }
              ]
            }
          },
          "title": "type"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "screenshot"
          ],
          "properties": {
            "screenshot": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "screenshot",
              "description": "Takes a screenshot in PNG format.",
              "anyOf": [
                {
                  "title": "Screenshot (simple)",
                  "description": "File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",
                  "type": "string",
                  "pattern": "([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "path": {
                      "title": "Screenshot (simple)",
                      "description": "File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",
                      "type": "string",
                      "pattern": "([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",
                      "transform": [
                        "trim"
                      ]
                    },
                    "directory": {
                      "type": "string",
                      "description": "Directory of the PNG file. If the directory doesn't exist, creates the directory.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "maxVariation": {
                      "type": "number",
                      "description": "Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",
                      "default": 0.05,
                      "minimum": 0,
                      "maximum": 1
                    },
                    "overwrite": {
                      "type": "string",
                      "description": "If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",
                      "enum": [
                        "true",
                        "false",
                        "aboveVariation"
                      ],
                      "default": "aboveVariation"
                    },
                    "crop": {
                      "anyOf": [
                        {
                          "title": "Crop by element (simple)",
                          "type": "string",
                          "description": "Display text or selector of the element to screenshot."
                        },
                        {
                          "title": "Crop by element (detailed)",
                          "type": "object",
                          "description": "Crop the screenshot to a specific element.",
                          "additionalProperties": false,
                          "anyOf": [
                            {
                              "required": [
                                "selector"
                              ]
                            },
                            {
                              "required": [
                                "elementText"
                              ]
                            },
                            {
                              "required": [
                                "elementId"
                              ]
                            },
                            {
                              "required": [
                                "elementTestId"
                              ]
                            },
                            {
                              "required": [
                                "elementClass"
                              ]
                            },
                            {
                              "required": [
                                "elementAttribute"
                              ]
                            },
                            {
                              "required": [
                                "elementAria"
                              ]
                            }
                          ],
                          "properties": {
                            "elementText": {
                              "type": "string",
                              "description": "Display text of the element to screenshot."
                            },
                            "selector": {
                              "type": "string",
                              "description": "Selector of the element to screenshot."
                            },
                            "elementId": {
                              "type": "string",
                              "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                            },
                            "elementTestId": {
                              "type": "string",
                              "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                            },
                            "elementClass": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              ],
                              "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                            },
                            "elementAttribute": {
                              "type": "object",
                              "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                              "additionalProperties": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "number"
                                  },
                                  {
                                    "type": "boolean"
                                  }
                                ]
                              }
                            },
                            "elementAria": {
                              "type": "string",
                              "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                            },
                            "padding": {
                              "anyOf": [
                                {
                                  "title": "Padding (simple)",
                                  "type": "number",
                                  "description": "Padding in pixels to add to the bounds of the element.",
                                  "minimum": 0
                                },
                                {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "top": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "right": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "bottom": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "left": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  },
                                  "title": "Padding (detailed)",
                                  "description": "Padding in pixels to add to the bounds of the element."
                                }
                              ]
                            }
                          }
                        }
                      ]
                    },
                    "sourceIntegration": {
                      "description": "Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",
                      "$schema": "http://json-schema.org/draft-07/schema#",
                      "title": "sourceIntegration",
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "integrationName"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",
                          "enum": [
                            "heretto"
                          ]
                        },
                        "integrationName": {
                          "type": "string",
                          "description": "The name of the integration configuration in the config file. Used to look up authentication credentials."
                        },
                        "fileId": {
                          "type": "string",
                          "description": "The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."
                        },
                        "filePath": {
                          "type": "string",
                          "description": "The path of the file in the source CMS. Used for lookup if fileId is not available."
                        },
                        "contentPath": {
                          "type": "string",
                          "description": "The local path to the file that references this source. Used for resolving relative paths."
                        }
                      },
                      "examples": [
                        {
                          "type": "heretto",
                          "integrationName": "my-heretto",
                          "fileId": "8f3ed200-cbba-11e1-ac51-c82a1446d15c",
                          "filePath": "/db/organizations/example/repositories/docs/images/screenshot.png"
                        },
                        {
                          "type": "heretto",
                          "integrationName": "my-heretto",
                          "filePath": "images/screenshot.png",
                          "contentPath": "/tmp/doc-detective/heretto_abc123/topic.dita"
                        }
                      ]
                    }
                  },
                  "title": "Capture screenshot (detailed)"
                },
                {
                  "type": "boolean",
                  "title": "Capture screenshot",
                  "description": "If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."
                }
              ],
              "components": {
                "schemas": {
                  "path": {
                    "title": "Screenshot (simple)",
                    "description": "File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",
                    "type": "string",
                    "pattern": "([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "path": {
                        "title": "Screenshot (simple)",
                        "description": "File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",
                        "type": "string",
                        "pattern": "([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",
                        "transform": [
                          "trim"
                        ]
                      },
                      "directory": {
                        "type": "string",
                        "description": "Directory of the PNG file. If the directory doesn't exist, creates the directory.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "maxVariation": {
                        "type": "number",
                        "description": "Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",
                        "default": 0.05,
                        "minimum": 0,
                        "maximum": 1
                      },
                      "overwrite": {
                        "type": "string",
                        "description": "If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",
                        "enum": [
                          "true",
                          "false",
                          "aboveVariation"
                        ],
                        "default": "aboveVariation"
                      },
                      "crop": {
                        "anyOf": [
                          {
                            "title": "Crop by element (simple)",
                            "type": "string",
                            "description": "Display text or selector of the element to screenshot."
                          },
                          {
                            "title": "Crop by element (detailed)",
                            "type": "object",
                            "description": "Crop the screenshot to a specific element.",
                            "additionalProperties": false,
                            "anyOf": [
                              {
                                "required": [
                                  "selector"
                                ]
                              },
                              {
                                "required": [
                                  "elementText"
                                ]
                              },
                              {
                                "required": [
                                  "elementId"
                                ]
                              },
                              {
                                "required": [
                                  "elementTestId"
                                ]
                              },
                              {
                                "required": [
                                  "elementClass"
                                ]
                              },
                              {
                                "required": [
                                  "elementAttribute"
                                ]
                              },
                              {
                                "required": [
                                  "elementAria"
                                ]
                              }
                            ],
                            "properties": {
                              "elementText": {
                                "type": "string",
                                "description": "Display text of the element to screenshot."
                              },
                              "selector": {
                                "type": "string",
                                "description": "Selector of the element to screenshot."
                              },
                              "elementId": {
                                "type": "string",
                                "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                              },
                              "elementTestId": {
                                "type": "string",
                                "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                              },
                              "elementClass": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                ],
                                "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                              },
                              "elementAttribute": {
                                "type": "object",
                                "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "boolean"
                                    }
                                  ]
                                }
                              },
                              "elementAria": {
                                "type": "string",
                                "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                              },
                              "padding": {
                                "anyOf": [
                                  {
                                    "title": "Padding (simple)",
                                    "type": "number",
                                    "description": "Padding in pixels to add to the bounds of the element.",
                                    "minimum": 0
                                  },
                                  {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "top": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "right": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "bottom": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "left": {
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "title": "Padding (detailed)",
                                    "description": "Padding in pixels to add to the bounds of the element."
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      "sourceIntegration": {
                        "description": "Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",
                        "$schema": "http://json-schema.org/draft-07/schema#",
                        "title": "sourceIntegration",
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "integrationName"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "description": "The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",
                            "enum": [
                              "heretto"
                            ]
                          },
                          "integrationName": {
                            "type": "string",
                            "description": "The name of the integration configuration in the config file. Used to look up authentication credentials."
                          },
                          "fileId": {
                            "type": "string",
                            "description": "The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."
                          },
                          "filePath": {
                            "type": "string",
                            "description": "The path of the file in the source CMS. Used for lookup if fileId is not available."
                          },
                          "contentPath": {
                            "type": "string",
                            "description": "The local path to the file that references this source. Used for resolving relative paths."
                          }
                        },
                        "examples": [
                          {
                            "type": "heretto",
                            "integrationName": "my-heretto",
                            "fileId": "8f3ed200-cbba-11e1-ac51-c82a1446d15c",
                            "filePath": "/db/organizations/example/repositories/docs/images/screenshot.png"
                          },
                          {
                            "type": "heretto",
                            "integrationName": "my-heretto",
                            "filePath": "images/screenshot.png",
                            "contentPath": "/tmp/doc-detective/heretto_abc123/topic.dita"
                          }
                        ]
                      }
                    },
                    "title": "Capture screenshot (detailed)"
                  },
                  "crop_element": {
                    "title": "Crop by element (detailed)",
                    "type": "object",
                    "description": "Crop the screenshot to a specific element.",
                    "additionalProperties": false,
                    "anyOf": [
                      {
                        "required": [
                          "selector"
                        ]
                      },
                      {
                        "required": [
                          "elementText"
                        ]
                      },
                      {
                        "required": [
                          "elementId"
                        ]
                      },
                      {
                        "required": [
                          "elementTestId"
                        ]
                      },
                      {
                        "required": [
                          "elementClass"
                        ]
                      },
                      {
                        "required": [
                          "elementAttribute"
                        ]
                      },
                      {
                        "required": [
                          "elementAria"
                        ]
                      }
                    ],
                    "properties": {
                      "elementText": {
                        "type": "string",
                        "description": "Display text of the element to screenshot."
                      },
                      "selector": {
                        "type": "string",
                        "description": "Selector of the element to screenshot."
                      },
                      "elementId": {
                        "type": "string",
                        "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementTestId": {
                        "type": "string",
                        "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementClass": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        ],
                        "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                      },
                      "elementAttribute": {
                        "type": "object",
                        "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      },
                      "elementAria": {
                        "type": "string",
                        "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "padding": {
                        "anyOf": [
                          {
                            "title": "Padding (simple)",
                            "type": "number",
                            "description": "Padding in pixels to add to the bounds of the element.",
                            "minimum": 0
                          },
                          {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "top": {
                                "type": "number",
                                "minimum": 0
                              },
                              "right": {
                                "type": "number",
                                "minimum": 0
                              },
                              "bottom": {
                                "type": "number",
                                "minimum": 0
                              },
                              "left": {
                                "type": "number",
                                "minimum": 0
                              }
                            },
                            "title": "Padding (detailed)",
                            "description": "Padding in pixels to add to the bounds of the element."
                          }
                        ]
                      }
                    }
                  },
                  "padding": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "top": {
                        "type": "number",
                        "minimum": 0
                      },
                      "right": {
                        "type": "number",
                        "minimum": 0
                      },
                      "bottom": {
                        "type": "number",
                        "minimum": 0
                      },
                      "left": {
                        "type": "number",
                        "minimum": 0
                      }
                    },
                    "title": "Padding (detailed)",
                    "description": "Padding in pixels to add to the bounds of the element."
                  }
                }
              },
              "examples": [
                true,
                "image.png",
                "static/images/image.png",
                "/User/manny/projects/doc-detective/static/images/image.png",
                {
                  "path": "image.png",
                  "directory": "static/images",
                  "maxVariation": 0.1,
                  "overwrite": "aboveVariation",
                  "crop": "#elementToScreenshot"
                },
                {
                  "path": "image.png",
                  "directory": "static/images",
                  "maxVariation": 0.1,
                  "overwrite": "aboveVariation"
                },
                {
                  "path": "image.png",
                  "directory": "static/images",
                  "maxVariation": 0.1,
                  "overwrite": "aboveVariation",
                  "crop": {
                    "selector": "#elementToScreenshot",
                    "elementText": "Element text",
                    "padding": {
                      "top": 0,
                      "right": 0,
                      "bottom": 0,
                      "left": 0
                    }
                  }
                }
              ]
            }
          },
          "title": "screenshot"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "saveCookie"
          ],
          "properties": {
            "saveCookie": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "saveCookie",
              "description": "Save a specific browser cookie to a file or environment variable for later reuse.",
              "anyOf": [
                {
                  "type": "string",
                  "title": "Cookie name",
                  "description": "Name of the specific cookie to save. Will be saved to a default file path or environment variable.",
                  "pattern": "^[A-Za-z0-9_./\\-]+$",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "$schema": {
                      "description": "Optional self-describing schema URI for linters",
                      "type": "string",
                      "format": "uri-reference"
                    },
                    "name": {
                      "type": "string",
                      "title": "Cookie name",
                      "description": "Name of the specific cookie to save.",
                      "pattern": "^[A-Za-z0-9_.-]+$",
                      "transform": [
                        "trim"
                      ]
                    },
                    "variable": {
                      "type": "string",
                      "title": "Environment variable name",
                      "description": "Environment variable name to store the cookie as JSON string.",
                      "pattern": "^[A-Za-z_][A-Za-z0-9_]*$",
                      "transform": [
                        "trim"
                      ]
                    },
                    "path": {
                      "type": "string",
                      "title": "Cookie file path",
                      "description": "File path to save the cookie, relative to directory. Uses Netscape cookie format.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "directory": {
                      "type": "string",
                      "title": "Directory path",
                      "description": "Directory to save the cookie file. If not specified, uses output directory.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "overwrite": {
                      "type": "boolean",
                      "title": "Overwrite existing file",
                      "description": "Whether to overwrite existing cookie file.",
                      "default": false
                    },
                    "domain": {
                      "type": "string",
                      "title": "Cookie domain",
                      "description": "Specific domain to filter the cookie by (optional).",
                      "transform": [
                        "trim"
                      ]
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "anyOf": [
                    {
                      "required": [
                        "path"
                      ],
                      "not": {
                        "required": [
                          "variable"
                        ]
                      }
                    },
                    {
                      "required": [
                        "variable"
                      ],
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "path"
                            ]
                          },
                          {
                            "required": [
                              "directory"
                            ]
                          }
                        ]
                      }
                    }
                  ],
                  "title": "Save cookie (detailed)"
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "type": "string",
                    "title": "Cookie name",
                    "description": "Name of the specific cookie to save. Will be saved to a default file path or environment variable.",
                    "pattern": "^[A-Za-z0-9_./\\-]+$",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "$schema": {
                        "description": "Optional self-describing schema URI for linters",
                        "type": "string",
                        "format": "uri-reference"
                      },
                      "name": {
                        "type": "string",
                        "title": "Cookie name",
                        "description": "Name of the specific cookie to save.",
                        "pattern": "^[A-Za-z0-9_.-]+$",
                        "transform": [
                          "trim"
                        ]
                      },
                      "variable": {
                        "type": "string",
                        "title": "Environment variable name",
                        "description": "Environment variable name to store the cookie as JSON string.",
                        "pattern": "^[A-Za-z_][A-Za-z0-9_]*$",
                        "transform": [
                          "trim"
                        ]
                      },
                      "path": {
                        "type": "string",
                        "title": "Cookie file path",
                        "description": "File path to save the cookie, relative to directory. Uses Netscape cookie format.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "directory": {
                        "type": "string",
                        "title": "Directory path",
                        "description": "Directory to save the cookie file. If not specified, uses output directory.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "overwrite": {
                        "type": "boolean",
                        "title": "Overwrite existing file",
                        "description": "Whether to overwrite existing cookie file.",
                        "default": false
                      },
                      "domain": {
                        "type": "string",
                        "title": "Cookie domain",
                        "description": "Specific domain to filter the cookie by (optional).",
                        "transform": [
                          "trim"
                        ]
                      }
                    },
                    "required": [
                      "name"
                    ],
                    "anyOf": [
                      {
                        "required": [
                          "path"
                        ],
                        "not": {
                          "required": [
                            "variable"
                          ]
                        }
                      },
                      {
                        "required": [
                          "variable"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "path"
                              ]
                            },
                            {
                              "required": [
                                "directory"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "title": "Save cookie (detailed)"
                  }
                }
              },
              "examples": [
                "session_token",
                "test_env_cookie",
                {
                  "name": "auth_cookie",
                  "path": "auth-cookie.txt"
                },
                {
                  "name": "session_token",
                  "variable": "SESSION_TOKEN"
                },
                {
                  "name": "test_cookie",
                  "path": "test-cookie.txt",
                  "overwrite": true
                },
                {
                  "name": "user_session",
                  "path": "user-session.txt",
                  "directory": "./test-data",
                  "overwrite": true
                },
                {
                  "name": "login_token",
                  "path": "login-token.txt",
                  "domain": "app.example.com"
                }
              ]
            }
          },
          "title": "saveCookie"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "record"
          ],
          "properties": {
            "record": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "record",
              "description": "Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",
              "anyOf": [
                {
                  "title": "Record (simple)",
                  "type": "string",
                  "description": "File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",
                  "pattern": "([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "description": "File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",
                      "pattern": "([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",
                      "transform": [
                        "trim"
                      ]
                    },
                    "directory": {
                      "type": "string",
                      "description": "Directory of the file. If the directory doesn't exist, creates the directory.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "overwrite": {
                      "type": "string",
                      "description": "If `true`, overwrites the existing recording at `path` if it exists.",
                      "enum": [
                        "true",
                        "false"
                      ]
                    }
                  },
                  "title": "Record (detailed)"
                },
                {
                  "type": "boolean",
                  "title": "Record (boolean)",
                  "description": "If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Record (simple)",
                    "type": "string",
                    "description": "File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",
                    "pattern": "([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "type": "object",
                    "properties": {
                      "path": {
                        "type": "string",
                        "description": "File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",
                        "pattern": "([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",
                        "transform": [
                          "trim"
                        ]
                      },
                      "directory": {
                        "type": "string",
                        "description": "Directory of the file. If the directory doesn't exist, creates the directory.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "overwrite": {
                        "type": "string",
                        "description": "If `true`, overwrites the existing recording at `path` if it exists.",
                        "enum": [
                          "true",
                          "false"
                        ]
                      }
                    },
                    "title": "Record (detailed)"
                  }
                }
              },
              "examples": [
                true,
                "results.mp4",
                {
                  "path": "results.mp4",
                  "directory": "static/media",
                  "overwrite": "true"
                }
              ]
            }
          },
          "title": "record"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "type": "object",
          "required": [
            "stopRecord"
          ],
          "properties": {
            "stopRecord": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "stopRecord",
              "description": "Stop the current recording.",
              "type": [
                "boolean",
                "null"
              ],
              "examples": [
                true
              ]
            }
          },
          "title": "stopRecord"
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "title": "loadVariables",
          "type": "object",
          "required": [
            "loadVariables"
          ],
          "properties": {
            "loadVariables": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "loadVariables",
              "type": "string",
              "description": "Load environment variables from the specified `.env` file.",
              "examples": [
                ".env"
              ]
            }
          }
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "title": "dragAndDrop",
          "type": "object",
          "required": [
            "dragAndDrop"
          ],
          "properties": {
            "dragAndDrop": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "dragAndDrop",
              "description": "Drag and drop an element from source to target.",
              "type": "object",
              "required": [
                "source",
                "target"
              ],
              "properties": {
                "source": {
                  "description": "The element to drag.",
                  "anyOf": [
                    {
                      "title": "Element (simple)",
                      "type": "string",
                      "description": "Display text, selector, or regex pattern (enclosed in forward slashes) of the element."
                    },
                    {
                      "title": "Element (detailed)",
                      "type": "object",
                      "anyOf": [
                        {
                          "required": [
                            "selector"
                          ]
                        },
                        {
                          "required": [
                            "elementText"
                          ]
                        },
                        {
                          "required": [
                            "elementId"
                          ]
                        },
                        {
                          "required": [
                            "elementTestId"
                          ]
                        },
                        {
                          "required": [
                            "elementClass"
                          ]
                        },
                        {
                          "required": [
                            "elementAttribute"
                          ]
                        },
                        {
                          "required": [
                            "elementAria"
                          ]
                        }
                      ],
                      "properties": {
                        "elementText": {
                          "type": "string",
                          "description": "Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."
                        },
                        "selector": {
                          "type": "string",
                          "description": "Selector of the element. If combined with `elementText`, the element must match both the text and the selector."
                        },
                        "elementId": {
                          "type": "string",
                          "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                        },
                        "elementTestId": {
                          "type": "string",
                          "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                        },
                        "elementClass": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ],
                          "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                        },
                        "elementAttribute": {
                          "type": "object",
                          "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "number"
                              },
                              {
                                "type": "boolean"
                              }
                            ]
                          }
                        },
                        "elementAria": {
                          "type": "string",
                          "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                        },
                        "timeout": {
                          "type": "integer",
                          "description": "Max duration in milliseconds to wait for the element to exist.",
                          "default": 5000
                        }
                      }
                    }
                  ]
                },
                "target": {
                  "description": "The target location to drop the element.",
                  "anyOf": [
                    {
                      "title": "Element (simple)",
                      "type": "string",
                      "description": "Display text, selector, or regex pattern (enclosed in forward slashes) of the element."
                    },
                    {
                      "title": "Element (detailed)",
                      "type": "object",
                      "anyOf": [
                        {
                          "required": [
                            "selector"
                          ]
                        },
                        {
                          "required": [
                            "elementText"
                          ]
                        },
                        {
                          "required": [
                            "elementId"
                          ]
                        },
                        {
                          "required": [
                            "elementTestId"
                          ]
                        },
                        {
                          "required": [
                            "elementClass"
                          ]
                        },
                        {
                          "required": [
                            "elementAttribute"
                          ]
                        },
                        {
                          "required": [
                            "elementAria"
                          ]
                        }
                      ],
                      "properties": {
                        "elementText": {
                          "type": "string",
                          "description": "Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."
                        },
                        "selector": {
                          "type": "string",
                          "description": "Selector of the element. If combined with `elementText`, the element must match both the text and the selector."
                        },
                        "elementId": {
                          "type": "string",
                          "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                        },
                        "elementTestId": {
                          "type": "string",
                          "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                        },
                        "elementClass": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ],
                          "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                        },
                        "elementAttribute": {
                          "type": "object",
                          "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "number"
                              },
                              {
                                "type": "boolean"
                              }
                            ]
                          }
                        },
                        "elementAria": {
                          "type": "string",
                          "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                        },
                        "timeout": {
                          "type": "integer",
                          "description": "Max duration in milliseconds to wait for the element to exist.",
                          "default": 5000
                        }
                      }
                    }
                  ]
                },
                "duration": {
                  "type": "integer",
                  "description": "Duration of the drag operation in milliseconds.",
                  "default": 1000,
                  "minimum": 0
                }
              },
              "components": {
                "schemas": {
                  "elementSpecification": {
                    "anyOf": [
                      {
                        "title": "Element (simple)",
                        "type": "string",
                        "description": "Display text, selector, or regex pattern (enclosed in forward slashes) of the element."
                      },
                      {
                        "title": "Element (detailed)",
                        "type": "object",
                        "anyOf": [
                          {
                            "required": [
                              "selector"
                            ]
                          },
                          {
                            "required": [
                              "elementText"
                            ]
                          },
                          {
                            "required": [
                              "elementId"
                            ]
                          },
                          {
                            "required": [
                              "elementTestId"
                            ]
                          },
                          {
                            "required": [
                              "elementClass"
                            ]
                          },
                          {
                            "required": [
                              "elementAttribute"
                            ]
                          },
                          {
                            "required": [
                              "elementAria"
                            ]
                          }
                        ],
                        "properties": {
                          "elementText": {
                            "type": "string",
                            "description": "Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."
                          },
                          "selector": {
                            "type": "string",
                            "description": "Selector of the element. If combined with `elementText`, the element must match both the text and the selector."
                          },
                          "elementId": {
                            "type": "string",
                            "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                          },
                          "elementTestId": {
                            "type": "string",
                            "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                          },
                          "elementClass": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            ],
                            "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                          },
                          "elementAttribute": {
                            "type": "object",
                            "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                            "additionalProperties": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                }
                              ]
                            }
                          },
                          "elementAria": {
                            "type": "string",
                            "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                          },
                          "timeout": {
                            "type": "integer",
                            "description": "Max duration in milliseconds to wait for the element to exist.",
                            "default": 5000
                          }
                        }
                      }
                    ]
                  },
                  "string": {
                    "title": "Element (simple)",
                    "type": "string",
                    "description": "Display text, selector, or regex pattern (enclosed in forward slashes) of the element."
                  },
                  "object": {
                    "title": "Element (detailed)",
                    "type": "object",
                    "anyOf": [
                      {
                        "required": [
                          "selector"
                        ]
                      },
                      {
                        "required": [
                          "elementText"
                        ]
                      },
                      {
                        "required": [
                          "elementId"
                        ]
                      },
                      {
                        "required": [
                          "elementTestId"
                        ]
                      },
                      {
                        "required": [
                          "elementClass"
                        ]
                      },
                      {
                        "required": [
                          "elementAttribute"
                        ]
                      },
                      {
                        "required": [
                          "elementAria"
                        ]
                      }
                    ],
                    "properties": {
                      "elementText": {
                        "type": "string",
                        "description": "Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."
                      },
                      "selector": {
                        "type": "string",
                        "description": "Selector of the element. If combined with `elementText`, the element must match both the text and the selector."
                      },
                      "elementId": {
                        "type": "string",
                        "description": "ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementTestId": {
                        "type": "string",
                        "description": "data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "elementClass": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        ],
                        "description": "Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."
                      },
                      "elementAttribute": {
                        "type": "object",
                        "description": "Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            }
                          ]
                        }
                      },
                      "elementAria": {
                        "type": "string",
                        "description": "Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."
                      },
                      "timeout": {
                        "type": "integer",
                        "description": "Max duration in milliseconds to wait for the element to exist.",
                        "default": 5000
                      }
                    }
                  }
                }
              },
              "examples": [
                {
                  "source": "Table",
                  "target": "#canvas"
                },
                {
                  "source": ".draggable-block",
                  "target": ".drop-zone",
                  "duration": 2000
                },
                {
                  "source": {
                    "selector": ".widget",
                    "elementText": "Data Table"
                  },
                  "target": {
                    "selector": "#design-canvas"
                  },
                  "duration": 500
                },
                {
                  "source": {
                    "selector": ".draggable",
                    "timeout": 10000
                  },
                  "target": {
                    "elementText": "Drop Zone",
                    "timeout": 5000
                  }
                },
                {
                  "source": "/Widget Item.*/",
                  "target": "#canvas"
                },
                {
                  "source": {
                    "selector": ".draggable",
                    "elementText": "/Button [0-9]+/"
                  },
                  "target": {
                    "elementText": "/Drop Zone.*/"
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "title": "loadCookie",
          "type": "object",
          "required": [
            "loadCookie"
          ],
          "properties": {
            "loadCookie": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "loadCookie",
              "description": "Load a specific cookie from a file or environment variable into the browser.",
              "anyOf": [
                {
                  "type": "string",
                  "title": "Cookie name or file path",
                  "description": "Name of the specific cookie to load from default location, or file path to cookie file.",
                  "pattern": "^[A-Za-z0-9_./\\-]+$",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "name"
                  ],
                  "anyOf": [
                    {
                      "required": [
                        "path"
                      ],
                      "not": {
                        "required": [
                          "variable"
                        ]
                      }
                    },
                    {
                      "required": [
                        "variable"
                      ],
                      "not": {
                        "anyOf": [
                          {
                            "required": [
                              "path"
                            ]
                          },
                          {
                            "required": [
                              "directory"
                            ]
                          }
                        ]
                      }
                    }
                  ],
                  "properties": {
                    "$schema": {
                      "description": "Optional self-describing schema URI for linters",
                      "type": "string",
                      "format": "uri-reference"
                    },
                    "name": {
                      "type": "string",
                      "title": "Cookie name",
                      "description": "Name of the specific cookie to load.",
                      "pattern": "^[A-Za-z0-9_.-]+$",
                      "transform": [
                        "trim"
                      ]
                    },
                    "variable": {
                      "type": "string",
                      "title": "Environment variable name",
                      "description": "Environment variable name containing the cookie as JSON string.",
                      "pattern": "^[A-Za-z_][A-Za-z0-9_]*$",
                      "transform": [
                        "trim"
                      ]
                    },
                    "path": {
                      "type": "string",
                      "title": "Cookie file path",
                      "description": "File path to cookie file, relative to directory. Supports Netscape cookie format.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "directory": {
                      "type": "string",
                      "title": "Directory path",
                      "description": "Directory containing the cookie file.",
                      "transform": [
                        "trim"
                      ]
                    },
                    "domain": {
                      "type": "string",
                      "title": "Cookie domain",
                      "description": "Specific domain to filter the cookie by when loading from multi-cookie file (optional).",
                      "transform": [
                        "trim"
                      ]
                    }
                  },
                  "title": "Load cookie (detailed)"
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "type": "string",
                    "title": "Cookie name or file path",
                    "description": "Name of the specific cookie to load from default location, or file path to cookie file.",
                    "pattern": "^[A-Za-z0-9_./\\-]+$",
                    "transform": [
                      "trim"
                    ]
                  },
                  "object": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "name"
                    ],
                    "anyOf": [
                      {
                        "required": [
                          "path"
                        ],
                        "not": {
                          "required": [
                            "variable"
                          ]
                        }
                      },
                      {
                        "required": [
                          "variable"
                        ],
                        "not": {
                          "anyOf": [
                            {
                              "required": [
                                "path"
                              ]
                            },
                            {
                              "required": [
                                "directory"
                              ]
                            }
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "$schema": {
                        "description": "Optional self-describing schema URI for linters",
                        "type": "string",
                        "format": "uri-reference"
                      },
                      "name": {
                        "type": "string",
                        "title": "Cookie name",
                        "description": "Name of the specific cookie to load.",
                        "pattern": "^[A-Za-z0-9_.-]+$",
                        "transform": [
                          "trim"
                        ]
                      },
                      "variable": {
                        "type": "string",
                        "title": "Environment variable name",
                        "description": "Environment variable name containing the cookie as JSON string.",
                        "pattern": "^[A-Za-z_][A-Za-z0-9_]*$",
                        "transform": [
                          "trim"
                        ]
                      },
                      "path": {
                        "type": "string",
                        "title": "Cookie file path",
                        "description": "File path to cookie file, relative to directory. Supports Netscape cookie format.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "directory": {
                        "type": "string",
                        "title": "Directory path",
                        "description": "Directory containing the cookie file.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "domain": {
                        "type": "string",
                        "title": "Cookie domain",
                        "description": "Specific domain to filter the cookie by when loading from multi-cookie file (optional).",
                        "transform": [
                          "trim"
                        ]
                      }
                    },
                    "title": "Load cookie (detailed)"
                  }
                }
              },
              "examples": [
                "session_token",
                "./test-data/auth-session.txt",
                "test_env_cookie",
                {
                  "name": "auth_cookie",
                  "variable": "AUTH_COOKIE"
                },
                {
                  "name": "test_cookie",
                  "path": "test-cookie.txt"
                },
                {
                  "name": "session_token",
                  "path": "session-token.txt",
                  "directory": "./test-data"
                },
                {
                  "name": "user_session",
                  "path": "saved-cookies.txt",
                  "domain": "app.example.com"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "allOf": [
        {
          "type": "object",
          "dynamicDefaults": {
            "stepId": "uuid"
          },
          "properties": {
            "$schema": {
              "description": "JSON Schema for this object.",
              "type": "string",
              "enum": [
                "https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"
              ]
            },
            "stepId": {
              "type": "string",
              "description": "ID of the step."
            },
            "description": {
              "type": "string",
              "description": "Description of the step."
            },
            "unsafe": {
              "type": "boolean",
              "description": "Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",
              "default": false
            },
            "outputs": {
              "type": "object",
              "description": "Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Outputs (step)"
            },
            "variables": {
              "type": "object",
              "description": "Environment variables to set from user-defined expressions.",
              "default": {},
              "patternProperties": {
                "^[A-Za-z0-9_]+$": {
                  "type": "string",
                  "description": "Runtime expression for a user-defined output value."
                }
              },
              "title": "Variables (step)"
            },
            "breakpoint": {
              "type": "boolean",
              "description": "Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",
              "default": false
            }
          },
          "title": "Common"
        },
        {
          "title": "wait",
          "type": "object",
          "required": [
            "wait"
          ],
          "properties": {
            "wait": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "title": "wait",
              "description": "Pause (in milliseconds) before performing the next action.",
              "default": 5000,
              "anyOf": [
                {
                  "type": "number",
                  "title": "Wait (simple)"
                },
                {
                  "title": "Wait (environment variable)",
                  "type": "string",
                  "pattern": "^\\$[A-Za-z0-9_]+$",
                  "transform": [
                    "trim"
                  ]
                },
                {
                  "type": "boolean",
                  "title": "Wait (boolean)"
                }
              ],
              "components": {
                "schemas": {
                  "string": {
                    "title": "Wait (environment variable)",
                    "type": "string",
                    "pattern": "^\\$[A-Za-z0-9_]+$",
                    "transform": [
                      "trim"
                    ]
                  }
                }
              },
              "examples": [
                5000,
                "$WAIT_DURATION",
                true
              ]
            }
          }
        }
      ]
    }
  ],
  "examples": [
    {
      "stepId": "uuid",
      "description": "Description of the step.",
      "checkLink": "https://www.google.com",
      "outputs": {
        "outputKey": "outputValue"
      },
      "variables": {
        "variableKey": "variableValue"
      }
    },
    {
      "checkLink": "https://www.google.com"
    },
    {
      "stepId": "path-only",
      "checkLink": "/search"
    },
    {
      "stepId": "status-code",
      "checkLink": {
        "url": "https://www.google.com",
        "statusCodes": [
          200
        ]
      }
    },
    {
      "goTo": {
        "url": "https://www.google.com"
      }
    },
    {
      "goTo": "https://www.google.com"
    },
    {
      "wait": 5000
    },
    {
      "runCode": {
        "language": "python",
        "code": "print('Hello from Python')",
        "workingDirectory": ".",
        "exitCodes": [
          0
        ],
        "stdio": "Hello from Python!",
        "path": "python-output.txt",
        "directory": "output",
        "maxVariation": 0.1,
        "overwrite": "aboveVariation"
      }
    },
    {
      "stopRecord": true
    },
    {
      "screenshot": true
    },
    {
      "screenshot": "image.png"
    },
    {
      "screenshot": "static/images/image.png"
    },
    {
      "screenshot": "/User/manny/projects/doc-detective/static/images/image.png"
    },
    {
      "screenshot": {
        "path": "image.png",
        "directory": "static/images",
        "maxVariation": 0.1,
        "overwrite": "aboveVariation",
        "crop": "#elementToScreenshot"
      }
    },
    {
      "screenshot": {
        "path": "image.png",
        "directory": "static/images",
        "maxVariation": 0.1,
        "overwrite": "aboveVariation"
      }
    },
    {
      "screenshot": {
        "path": "image.png",
        "directory": "static/images",
        "maxVariation": 0.1,
        "overwrite": "aboveVariation",
        "crop": {
          "selector": "#elementToScreenshot",
          "elementText": "Element text",
          "padding": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        }
      }
    },
    {
      "record": true
    },
    {
      "record": "video.mp4"
    },
    {
      "record": "static/media/video.mp4"
    },
    {
      "record": "/User/manny/projects/doc-detective/static/media/video.mp4"
    },
    {
      "record": {
        "path": "video.mp4",
        "directory": "static/media",
        "overwrite": true
      }
    },
    {
      "loadVariables": "variables.env"
    },
    {
      "saveCookie": "session_token"
    },
    {
      "saveCookie": {
        "name": "auth_cookie",
        "path": "auth-session.txt",
        "directory": "./test-data",
        "overwrite": true
      }
    },
    {
      "loadCookie": "session_token"
    },
    {
      "loadCookie": {
        "name": "auth_cookie",
        "path": "auth-session.txt",
        "directory": "./test-data"
      }
    },
    {
      "find": "Find me!"
    },
    {
      "find": {
        "selector": "[title=Search]"
      }
    },
    {
      "find": {
        "selector": "[title=Search]",
        "timeout": 10000,
        "elementText": "Search",
        "moveTo": true,
        "click": true,
        "type": "shorthair cat"
      }
    },
    {
      "find": {
        "selector": "[title=Search]",
        "click": {
          "button": "right"
        }
      }
    },
    {
      "find": {
        "selector": "[title=Search]",
        "timeout": 10000,
        "elementText": "Search",
        "moveTo": true,
        "click": true,
        "type": {
          "keys": [
            "shorthair cat"
          ],
          "inputDelay": 100
        }
      }
    },
    {
      "click": true
    },
    {
      "click": "Submit"
    },
    {
      "click": {
        "button": "left",
        "elementText": "Element text"
      }
    },
    {
      "click": {
        "selector": "#elementToScreenshot",
        "elementText": "Element text",
        "button": "middle"
      }
    },
    {
      "httpRequest": "https://reqres.in/api/users"
    },
    {
      "httpRequest": {
        "url": "https://reqres.in/api/users"
      }
    },
    {
      "httpRequest": {
        "url": "https://reqres.in/api/users/2",
        "method": "put",
        "request": {
          "body": {
            "name": "morpheus",
            "job": "zion resident"
          }
        }
      }
    },
    {
      "httpRequest": {
        "url": "https://reqres.in/api/users",
        "method": "post",
        "request": {
          "body": {
            "name": "morpheus",
            "job": "leader"
          }
        },
        "response": {
          "body": {
            "name": "morpheus",
            "job": "leader"
          }
        },
        "statusCodes": [
          200,
          201
        ]
      }
    },
    {
      "httpRequest": {
        "url": "https://www.api-server.com",
        "method": "post",
        "timeout": 30000,
        "request": {
          "body": {
            "field": "value"
          },
          "headers": {
            "header": "value"
          },
          "parameters": {
            "param": "value"
          }
        },
        "response": {
          "body": {
            "field": "value"
          },
          "headers": {
            "header": "value"
          }
        },
        "statusCodes": [
          200
        ]
      }
    },
    {
      "httpRequest": {
        "url": "https://reqres.in/api/users",
        "method": "post",
        "request": {
          "body": {
            "name": "morpheus",
            "job": "leader"
          }
        },
        "response": {
          "body": {
            "name": "morpheus",
            "job": "leader"
          }
        },
        "statusCodes": [
          200,
          201
        ],
        "path": "response.json",
        "directory": "media",
        "maxVariation": 0.05,
        "overwrite": "aboveVariation"
      }
    },
    {
      "httpRequest": {
        "openApi": "getUserById"
      }
    },
    {
      "httpRequest": {
        "openApi": {
          "name": "Reqres",
          "operationId": "getUserById"
        },
        "request": {
          "parameters": {
            "id": 123
          }
        }
      }
    },
    {
      "httpRequest": {
        "openApi": {
          "descriptionPath": "https://api.example.com/openapi.json",
          "operationId": "getUserById"
        },
        "request": {
          "parameters": {
            "id": 123
          }
        }
      }
    },
    {
      "httpRequest": {
        "openApi": {
          "descriptionPath": "https://api.example.com/openapi.json",
          "operationId": "createUser",
          "useExample": "both"
        }
      }
    },
    {
      "httpRequest": {
        "openApi": {
          "descriptionPath": "https://api.example.com/openapi.json",
          "operationId": "updateUser",
          "useExample": "request",
          "exampleKey": "acme"
        }
      }
    },
    {
      "httpRequest": {
        "openApi": {
          "descriptionPath": "https://api.example.com/openapi.json",
          "operationId": "updateUser",
          "useExample": "request",
          "exampleKey": "acme",
          "headers": {
            "Authorization": "Bearer $TOKEN"
          }
        }
      }
    },
    {
      "stepId": "breakpoint-example",
      "description": "Step with breakpoint enabled",
      "goTo": "https://www.example.com",
      "breakpoint": true
    },
    {
      "checkLink": "https://www.google.com",
      "breakpoint": false
    },
    {
      "dragAndDrop": {
        "source": {
          "selector": "#sourceElement"
        },
        "target": {
          "selector": "#targetElement"
        }
      }
    }
  ]
}